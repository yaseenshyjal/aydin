function running_numbers(){clearInterval(e);var e=setInterval(function(){input_num<current_num?(parseInt((current_num-input_num)/50)<1?$("#totalamt").text(input_num):$("#totalamt").text($("#totalamt").text()-parseInt((current_num-input_num)/50)),parseInt($("#totalamt").text())<=input_num&&($("#totalamt").text(input_num),clearInterval(e))):(parseInt((input_num-current_num)/50)<1?$("#totalamt").text(input_num):$("#totalamt").text(parseInt($("#totalamt").text())+parseInt((input_num-current_num)/50)),parseInt($("#totalamt").text())>=parseInt(input_num)&&($("#totalamt").text(input_num),clearInterval(e)))},10)}function showflights(e){var t=new Array,i=0;$("#Return").val()==$("#Departure").val()&&($("#aPrevDay_R").css("display","none"),$("#aNextDay_O").css("display","none")),onwardcached.length>0&&returncached.length>0&&(sortSplit(onwardcached,"Weightage,NetFare,JourneyInMinutes,DepartureDateTime,ArrivalDateTime",!1,"","o"),container="owdisplay",display(onwardcached,container,!1,"o"),"AnyTime"!=$("#DepartureTime").val()&&(clearFilter("time","o"),display(onwardcached,container,!1,"o")),$("#splitresults").css("display","")),onwardcached.length>0&&returncached.length>0&&(sortSplit(returncached,"Weightage,NetFare,JourneyInMinutes,DepartureDateTime,ArrivalDateTime",!1,"","r"),container="rtdisplay",display(returncached,container,!1,"r"),"AnyTime"!=$("#ReturnTime").val()&&(clearFilter("time","r"),display(returncached,container,!1,"r"))),ApplyRSF();var r="",a=!1,l=!1;if(onwardcached.length>0)if($("#Departure").val()==$("#Return").val()){t=$.map(onwardcached,function(e){return $.extend({},e)});for(o=0;o<t.length;o++)if(1==t[o].Visible){r=t[o].AirlineCode+t[o].FlightNo,a=!0;break}t.length=0}else for(o=0;o<onwardcached.length;o++)if(1==onwardcached[o].Visible){r=onwardcached[o].AirlineCode+onwardcached[o].FlightNo,a=!0;break}for(o=0;o<onwardcached.length;o++)if(onwardcached[o].AirlineCode+onwardcached[o].FlightNo==r){i=o;break}if(returncached.length>0){for(var o=0;o<returncached.length;o++)if(parseInt(findTimeDiff(onwardcached[i].ArrivalDateTime,returncached[o].DepartureDateTime,"T"),10)>=3&&1==returncached[o].Visible&&1==a){l=!0,createSelectedFlight("r",o);break}1==a&&1==l&&createSelectedFlight("o",i)}}function ResultCompleted(){if($("input[type=radio]").attr("disabled",!1),0==onwardcached.length||0==returncached.length)return $("#divNoResult").css("display",""),!1;var e="",t=0;if(onwardcached.length>0){if($("#Departure").val()!=$("#Return").val()){for(n=0;n<onwardcached.length;n++)if(1==onwardcached[n].Visible){e=onwardcached[n].AirlineCode+onwardcached[n].FlightNo,t=n;break}}else{var i=new Array;i=$.map(onwardcached,function(e){return $.extend({},e)});for(n=0;n<i.length;n++)if(1==i[n].Visible){e=i[n].AirlineCode+i[n].FlightNo,t=n;break}i=new Array}firstSelection=!0;for(n=0;n<onwardcached.length;n++)if(onwardcached[n].AirlineCode+onwardcached[n].FlightNo==e){selectFlight("o",n),flagOW=!0;break}}else $("#divSelection").css("display","none");if(returncached.length>0)for(n=0;n<returncached.length;n++)if(parseInt(findTimeDiff(onwardcached[t].ArrivalDateTime,returncached[n].DepartureDateTime,"T"),10)>=3&&returncached[n].Visible){selectFlight("r",n),flagRT=!0;break}firstSelection=!1,$(".defaultP input").ezMark(),$('.customP input[type="checkbox"]').ezMark({checkboxCls:"ez-checkbox-green",checkedCls:"ez-checked-green"}),1==flagOW&&1==flagRT?$(".botm-dis-main").stop(!0,!1).animate({bottom:"0px"},600,"easeOutCubic"):($(".botm-dis-main").stop(!0,!1).animate({bottom:"-120px"},600,"easeOutCubic"),$(".split-content").css({marginBottom:"0px"})),SaveFareCalender(onwardcached,returncached),ApplyRSF();var r=$.grep(RSFreturncached,function(e){return e.MinRSFare>0});if(r.length>0){sort(r,"MinRSFare",!1,"","");var a=-1,l=-1,o=0,s=0;if(r[0].MinRSFare<input_num){for(n=0;n<onwardcached.length;n++)onwardcached[n].AirlineCode+onwardcached[n].FlightNo==r[0].MinRSFareOwdSectId&&(-1==a||onwardcached[n].NetFare<o)&&(a=n,o=onwardcached[n].NetFare);for(var n=0;n<returncached.length;n++)returncached[n].AirlineCode+returncached[n].FlightNo==r[0].MinRSFareRetSectId&&(-1==l||returncached[n].NetFare<s)&&(l=n,s=returncached[n].NetFare);-1!=a&&-1!=l&&parseInt(findTimeDiff(onwardcached[a].ArrivalDateTime,returncached[l].DepartureDateTime,"T"),10)>=3&&returncached[l].Visible&&(createSelectedFlight("o",a),selectFlight("o",a),createSelectedFlight("r",l),selectFlight("r",l))}}}function applyLabelClick(e){var t=e.target;$(t).parents(".flters").find("input").each(function(e,i){$(i).attr("id")!=$(t).prev().find("input").attr("id")&&$(i).prop("checked",!1).change()}),$(t).prev().find("input").prop("checked",!0).change(),IsAppliedFilter=!1}function add_scroll_listener(){document.addEventListener&&$(window).width()>767&&$(scroll_target.substring(0,scroll_target.length-1)).scroll(function(){var e=$(this).parent().height()/$(this)[0].scrollHeight*$(this).parent().height(),t=e+($(this).parent().height()-e)/$(this)[0].scrollHeight*$(this).parent().height();if(e<$(this).parent().height()){if($($(this).parent().find(".grey-scroll-bt")).fadeIn(),$(".grey-scroll-bg").fadeIn(),t>=2){i=($(this).parent().height()-e)/$(this)[0].scrollHeight*$(this).scrollTop();$($(this).parent().find(".grey-scroll-bt")).stop(!0,!1).animate({top:i+"px"},100,"linear")}else{var i=($(this).parent().height()-2)/$(this)[0].scrollHeight*$(this).scrollTop();$($(this).parent().find(".grey-scroll-bt")).stop(!0,!1).animate({top:i+"px"},100,"linear")}$(".grey-scroll-bg").stop(!0,!1).animate({top:"0px"},100,"linear")}})}function closeFilter(e){$(e).stop(!0,!1).fadeOut(600,function(){$.blockUI({message:"<div class='waitarea'><div class='waitcontainer'><div class='waitimage'><img width='60' height='60' alt='Loader' src='/content/images/ak/v1.0/Common/Loader.gif'></div><div class='waittxt'><span>Please Wait...</span></div></div></div>",css:{width:"482px",border:"none",padding:"5px",backgroundColor:"#FFF","text-align":"left"}}),ApplyFilter(onwardcached,"o"),ApplyFilter(returncached,"r"),display(onwardcached,"owdisplay",!1,"o"),display(returncached,"rtdisplay",!1,"r"),ApplyRSF(),$("#overlay").remove();$.unblockUI();var e="",t=!1,i=!1;if(onwardcached.length>0)if($("#Departure").val()==$("#Return").val()){tempFlight=$.map(onwardcached,function(e){return $.extend({},e)});for(r=0;r<tempFlight.length;r++)if(1==tempFlight[r].Visible){e=tempFlight[r].AirlineCode+tempFlight[r].FlightNo,t=!0;break}tempFlight.length=0}else for(r=0;r<onwardcached.length;r++)if(1==onwardcached[r].Visible){e=onwardcached[r].AirlineCode+onwardcached[r].FlightNo,t=!0;break}for(r=0;r<onwardcached.length;r++)if(onwardcached[r].AirlineCode+onwardcached[r].FlightNo==e){indx=r;break}if(returncached.length>0){for(var r=0;r<returncached.length;r++)if(parseInt(findTimeDiff(onwardcached[indx].ArrivalDateTime,returncached[r].DepartureDateTime,"T"),10)>=3&&1==returncached[r].Visible&&1==t){i=!0,createSelectedFlight("r",r),selectFlight("r",r);break}1==t&&1==i&&(createSelectedFlight("o",indx),selectFlight("o",indx))}}),IsAppliedFilter=!1}function highlight(e,t){1==t?$("."+e).css("background-color","#c9c7c7"):$("."+e).css("background-color","")}function getRSFResult(){$.ajax({url:"/Flight/getRSFResult/"+$("#Key").val(),cache:!1,dataType:"json",async:!0,success:function(e){if(e){if(null!=e.OnwardData&&e.OnwardData.length>0){RSFonwardcached=RSFonwardcached.concat(e.OnwardData),RSFreturncached=RSFreturncached.concat(e.ReturnData);var i=$("#hdnRSFDisplayAirlines").val().split(","),r="",a="";$.each(e.OnwardData,function(e,t){var l=!1;$.each(i,function(e,i){t.ChannelCode.toUpperCase()==i.toUpperCase()&&(l=!0)}),l&&(a=t.NetFare.toString(),$.each(t.SectorDetails,function(e,t){a=a+t.FlightNo+t.ProductClass}),r.indexOf(a+",")<0&&(r=""==r?a+",":r+a+",",onwardcached.push(t)))}),r="",a="",$.each(e.ReturnData,function(e,t){var l=!1;$.each(i,function(e,i){t.ChannelCode.toUpperCase()==i.toUpperCase()&&(l=!0)}),l&&(a=t.NetFare.toString(),$.each(t.SectorDetails,function(e,t){a=a+t.FlightNo+t.ProductClass}),r.indexOf(a+",")<0&&(r=""==r?a+",":r+a+",",returncached.push(t)))}),showflights(e),resultCompelteRSF=e.Completed,0==resultCompelteRSF&&(t=setTimeout("getRSFResult()",10))}ApplyRSF()}}})}function ApplyRSF(){if(RSFonwardcached.length>0)for(j=0;j<onwardcached.length;j++){var e=$("#hdnRSFCombinationFlight").val().split(";");if(0==onwardcached[j].RSFProcessedFlag&&"CSG"!=onwardcached[j].ChannelCode&&"PSG"!=onwardcached[j].ChannelCode){for(i=0;i<RSFonwardcached.length;i++){for(var t="",r="",a=0;a<RSFonwardcached[i].SectorDetails.length;a++)r+=RSFonwardcached[i].SectorDetails[a].AirlineCode+RSFonwardcached[i].SectorDetails[a].FlightNo;for(d=0;d<onwardcached[j].SectorDetails.length;d++)t+=onwardcached[j].SectorDetails[d].AirlineCode+onwardcached[j].SectorDetails[d].FlightNo;if(t==r&&onwardcached[j].ChannelCode==RSFonwardcached[i].ChannelCode&&onwardcached[j].SectorDetails.length==RSFonwardcached[i].SectorDetails.length){for(var l=!1,o=!1,s=0;s<e.length;s++)if(onwardcached[j].AirlineCode==e[s].split(":")[0]){var n=e[s].split(":")[1].split(",");l=!0;for(var c=0;c<n.length;c++)n[c]==onwardcached[j].ProductClass&&(o=!0)}if(!l){for(d=0;d<onwardcached[j].SectorDetails.length;d++)t+=onwardcached[j].SectorDetails[d].AirlineCode+onwardcached[j].SectorDetails[d].FlightNo;onwardcached[j].RSFReturnFlights=RSFonwardcached[i].RSFReturnFlights,$("#owrsfbanner"+t+onwardcached[j].ProductClass).css("display",""),onwardcached[j].RSFProcessedFlag=1,"";break}if(o){for(d=0;d<onwardcached[j].SectorDetails.length;d++)t+=onwardcached[j].SectorDetails[d].AirlineCode+onwardcached[j].SectorDetails[d].FlightNo;onwardcached[j].RSFReturnFlights=RSFonwardcached[i].RSFReturnFlights,$("#owrsfbanner"+t+onwardcached[j].ProductClass).css("display",""),onwardcached[j].RSFProcessedFlag=1,"";break}}}""}else{for(var t="",d=0;d<onwardcached[j].SectorDetails.length;d++)t+=onwardcached[j].SectorDetails[d].AirlineCode+onwardcached[j].SectorDetails[d].FlightNo;null!=onwardcached[j].RSFReturnFlights&&""!=onwardcached[j].RSFReturnFlights&&($("#owrsfbanner"+t+onwardcached[j].ProductClass).css("display","block"),onwardcached[j].RSFProcessedFlag=1)}}}function initialize(){if(refresh_scroll_div(),document.addEventListener&&$(window).width()>767){add_scroll_listener(),$(".split-content").css({marginBottom:$(".botm-dis-main").outerHeight()-parseInt($("#footer").css("margin-top"))+4+"px"}),$(".split-wrap,.spl-main ").css({height:$(".split-content").innerHeight()-$(".split-wrap").position().top-10+"px"}),$("#footer").hide();var e=!1;$(".spl-main").bind("scroll",function(t){0==e&&$("html,body").scrollTop()!=$(".split-content").offset().top+1&&$(this).scrollTop()>0&&(e=!0,1==flagOW&&1==flagRT&&$(".botm-dis-main").stop(!0,!0).animate({bottom:"0px"},600,"easeOutCubic"),$("html,body").stop(!0,!1).animate({scrollTop:$(".split-content").offset().top+1},600,"easeOutCubic",function(){e=!1}),$(".split-wrap,.spl-main ").css({height:$(".split-content").innerHeight()-$(".split-wrap").position().top-10+"px"}))}),$(window).bind("resize",function(e){0==loadingFlights&&1==flagOW&&1==flagRT&&($("html,body").stop(!0,!1).animate({scrollTop:$(".split-content").offset().top+1},600,"easeOutCubic",function(){}),$(".split-wrap,.spl-main ").css({height:$(".split-content").innerHeight()-$(".split-wrap").position().top-10+"px"}),$(".botm-dis-main").stop(!0,!1).animate({bottom:"0px"},600,"easeOutCubic"))})}else $(".split-wrap,.spl-main ").css({height:"auto",overflow:"hidden"}),$(".spl-main").css({padding:"0 1% 1% 1%"}),$(".split-content").css({marginBottom:"5px"}),$("#footer").css({marginBottom:"120px"}),$(".grey-scroll-bg").hide();$(window).width()<768&&($(".botm-dis-main").css({position:"relative",float:"left"}),$("#footer").css({marginBottom:"0px"}));var t=!1;$(document).bind("scroll",function(i){1!=stopShowing&&1!=isFaredetailsShowing||($("#faredetails").css("display","none"),$("#stopsdetailmodel").css("display","none"),$("#overlay").remove(),stopShowing=!1,isFaredetailsShowing=!1),0==loadingFlights&&1==flagOW&&1==flagRT&&($(window).scrollTop()>$("html,body")[0].scrollHeight-$(window).innerHeight()-100&&0==parseInt($(".botm-dis-main").css("bottom"))&&$(window).width()>767?(e=!1,$(window).innerHeight()>700||($("html,body").scrollTop=$("html,body")[0].scrollHeight)&&(t=!0),$(".split-wrap,.spl-main ").height()!=$(".split-content").innerHeight()-$(".split-wrap").position().top-10&&$(".split-wrap,.spl-main ").css({height:$(".split-content").innerHeight()-$(".split-wrap").position().top-10+"px"})):$(window).scrollTop()<$("html,body")[0].scrollHeight-$(window).innerHeight()-100&&1==t&&(e=!1,t=!1,$(".split-wrap,.spl-main ").css({height:$(".split-content").innerHeight()-$(".split-wrap").position().top-10+"px"}),$(".botm-dis-main").stop(!0,!1).animate({bottom:"0px"},600,"easeOutCubic")))});var i=!1;$(".split-filter").mouseover(function(){$(window).innerHeight()<600&&(i=!0,$(".botm-dis-main").stop(!0,!1).fadeOut(600))}),$(document).mousemove(function(e){$(window).innerHeight()<600&&($(e.target).parents(".split-filter").length||($(".botm-dis-main").stop(!0,!0).fadeIn(600),$(".botm-dis-main").css({opacity:"1"})))}),$("#pagewrap").append('<div class="floating-sel"> <div>'),$(".floating-sel").css({position:"absolute",width:$(".flit-one").width()+"px",height:$(".onward").height()+"px",background:"#fff",left:"0",top:"0",zIndex:"9999",display:"none"}),$("#pagewrap").parent().append('<div class="flit-one-cover"> <div>'),$(".flit-one-cover").css({position:"absolute",width:$(".flit-one").width()+"px",height:$(".onward").innerHeight()+"px",background:"#fff",left:"0",top:"0",zIndex:"9990",display:"none"}),$(".flit-one-cover").html($(".flit-one").find(".onward").html()),$("#pagewrap").parent().append('<div class="flit-two-cover"> <div>'),$(".flit-two-cover").css({position:"absolute",width:$(".flit-two").width()+"px",height:$(".onward").innerHeight()+"px",background:"#fff",left:"0",top:"0",zIndex:"9990",display:"none"}),$(".flit-two-cover").html($(".flit-two").find(".onward").html()),document.addEventListener&&$(window).width()>767?setInterval(function(){item_count=0,refresh_scroll_div()},200):setInterval(function(){item_count=0,refresh_scroll_div()},800);var r,a,l;$(document).mouseover(function(e){var t=e.target||e.srcElement;if($(r).attr("title",l),void 0!==$(t).attr("title")||void 0!==$(t).parent().attr("title")){if(a=void 0!==$(t).parent().attr("title")&&void 0===$(t).attr("title")?$(t).parent():$(t),"^^"==$(a).attr("title").substring(0,2)){r=a,l=$(a).attr("title"),$(".cust-tool-tip").text("");for(var i,o=l;"-1"!=o.indexOf(">");)i=o.substring(o.indexOf("<")+1,o.indexOf(">")),o=o.substring(o.indexOf(">")+1),$(".cust-tool-tip").append("<span>"+i+"</span>");if($(".cust-tool-tip-cont").stop(!0,!0).fadeIn(600),a.offset().top-a.outerHeight()>0?$(".cust-tool-tip-cont").css({left:a.offset().left+"px",top:a.offset().top+a.outerHeight()-parseInt(a.css("padding-top"))+"px",width:a.outerWidth()+"px"}):$(".cust-tool-tip-cont").css({left:a.offset().left+"px",top:a.offset().top+"px",width:a.outerWidth()+"px"}),$(".cust-tool-tip-cont img").css({left:"0px"}),$(".cust-tool-tip").outerWidth()>a.outerWidth()){var s=a.outerWidth()/2;$(".cust-tool-tip-bg").css({marginLeft:-$(".cust-tool-tip-bg").outerWidth()/2+s+"px"})}else $(".cust-tool-tip-bg").css({marginLeft:"0px"});a.offset().left+$(".cust-tool-tip").outerWidth()>$(window).width()&&($(".cust-tool-tip-cont img").css({left:a.offset().left-($(window).width()-$(".cust-tool-tip-bg").outerWidth())+"px"}),$(".cust-tool-tip-cont").css({left:a.offset().left-(a.offset().left+$(".cust-tool-tip-bg").outerWidth()-$(window).width())+"px"}),$(".cust-tool-tip-bg").css({marginLeft:"0px"})),a.offset().left-$(".cust-tool-tip").outerWidth()<0&&($(".cust-tool-tip-cont img").css({left:a.offset().left+"px"}),$(".cust-tool-tip-cont").css({left:"0px"}),$(".cust-tool-tip-bg").css({marginLeft:"0px"})),$(".cust-tool-tip").outerHeight()+$(".cust-tool-tip-cont").offset().top+20>$(window).height()+$(window).scrollTop()?($(".cust-tool-tip-cont").css({top:a.offset().top-$(".cust-tool-tip-bg").outerHeight()-20+"px"}),$(".cust-tool-tip-cont img").css({top:$(".cust-tool-tip-bg").outerHeight()+8+"px"}),$(".cust-tool-tip-cont img").attr("src","/content/images/ak/v1.0/flight/tt-down-arrow.png")):($(".cust-tool-tip-cont img").css({top:"4px"}),$(".cust-tool-tip-cont img").attr("src","/content/images/ak/v1.0/flight/tt-up-arrow.png")),$(a).attr("title","")}}else"cust-tool-tip"!=$(t).attr("class")&&"cust-tool-tip-cont"!=$(t).attr("class")&&$(".cust-tool-tip-cont").stop(!0,!0).fadeOut(600)})}function createSelectedFlight(e,t){var i,r=e+t,a="",l="",o="";secIndex=t,"o"==e?(i=onwardcached[t],$("#owdisplay").find('input[type="radio"]').attr("checked",!1),$("#owflight"+t).find('input[type="radio"]').attr("checked",!0),a="O",l=i.SrNo,o=0):(i=returncached[t],$("#rtdisplay").find('input[type="radio"]').attr("checked",!1),$("#rtflight"+t).find('input[type="radio"]').attr("checked",!0),a="R",l=0,o=i.SrNo);var s="";s="G9"==i.AirlineCode&&-1!=i.FlightNo.indexOf("G9")?i.FlightNo.replace("G9",""):i.FlightNo;var n='<div class="inner-main"><div class="inner-box-left"><div class="inner-main"><div class="subp-sct"><div class="spl-top"><div class="flt-depbt">';"MC"==i.ChannelCode?n+="Multiple Carrier":n+=i.AirlineName,n+=" "+i.AirlineCode+"-"+s,n+='</div><div class="flt-durbt"><div class="dep"><span class="dep-arrow display-new"></span><b>DEP</b></div>'+getTimes(i.DepartureDateTime,"T")+'</div><div class="flt-arrbt"><div class="clock-icon display-new"></div>',n+='<div class="clock-icon-txt">'+findTimeDiff(i.DepartureDateTime,i.ArrivalDateTime,"T")+'</div></div><div class="flt-prcbt"><div class="dep"><span class="arr-arrow display-new"></span><b>ARR</b></div>'+getTimes(i.ArrivalDateTime,"T"),n+='</div></div><div class="spl-bottom"><div class="flt-depbt">',"MC"==i.ChannelCode?n+='<img src="'+imgPath+'/flightbooking/images/AirlineLogo/Multiple.gif" width="70" height="30" alt="Image" />':"C6E"==i.ChannelCode?n+='<img src="'+imgPath+'/flightbooking/images/AirlineLogo/ATO-sp.gif" width="70" height="30" alt="Image" />':n+='<img src="'+imgPath+i.LogoPath+'" width="70" height="30" alt="Image" />',n+='</div><div class="flt-dlel"><div class="plds"><div class="pl1">'+i.DepartureAirportCode;for(var c=i.SectorDetails.length-1,d=0;d<i.SectorDetails.length;d++)null!=i.SectorDetails[d].HoppingDetails&&i.SectorDetails[d].HoppingDetails.length>0&&(c+=i.SectorDetails[d].HoppingDetails.length);c>0?"TRUE"==$("#baggageDisplay").val().toUpperCase()?n+=' →  </div><span class="rt-cr">'+c+'</span><div class="pl2"> → '+i.ArrivalAirportCode+'</div></div><div id="'+r+'" class=" red-color" onclick="DisplayStopsRT(\''+e+"','"+t+'\', event)" >+details</div></div><div class="bgedtls display-new bag-dtls" title="^^<Baggage>" onclick=ShowBaggageDtlsSearchDomRT("'+$("#Key").val()+'","D","'+a+'","'+l+'","'+o+'","'+secIndex+'","R")></div><div class="flt-prcbt">':n+=' →  </div><span class="rt-cr">'+c+'</span><div class="pl2"> → '+i.ArrivalAirportCode+'</div></div><div id="'+r+'" class=" red-color" onclick="DisplayStopsRT(\''+e+"','"+t+'\', event)" >+details</div></div><div class="flt-prcbt">':"TRUE"==$("#baggageDisplay").val().toUpperCase()?n+=' →  </div><div class="pl2">'+i.ArrivalAirportCode+'</div></div><div id="'+r+'" class=" red-color" onclick="DisplayStopsRT(\''+e+"','"+t+'\', event)" >+details</div></div><div class="bgedtls display-new bag-dtls" title="^^<Baggage>" onclick=ShowBaggageDtlsSearchDomRT("'+$("#Key").val()+'","D","'+a+'","'+l+'","'+o+'","'+secIndex+'","R")></div><div class="flt-prcbt">':n+=' →  </div><div class="pl2">'+i.ArrivalAirportCode+'</div></div><div id="'+r+'" class=" red-color" onclick="DisplayStopsRT(\''+e+"','"+t+'\', event)" >+details</div></div><div class="flt-prcbt">';for(var p=i.SectorDetails[0].AvailableSeat,h=$("#HideSeat").val().split(","),g=!1,v=0;v<h.length;v++)h[v]==i.AirlineCode&&(g=!0);0==g&&null!=p&&""!=p&&parseInt(p)>0&&(n+='<div class="spl-seat" title="^^<'+p+'&nbsp;Seat(s)&nbsp;Left>"><div class="spl-seat-no">'+p+'</div><div class="spl-seat-nme">Left</div></div>'),n+='</div></div></div></div></div><div class="inner-box-right">';for(var f=parseInt((parseFloat(i.FareDetail.AdultDiscount)+parseFloat(i.FareDetail.AdultCommission)).toFixed())+parseInt(0!=i.ChildCount?(parseFloat(i.FareDetail.ChildDiscount)+parseFloat(i.FareDetail.ChildCommission)).toFixed():0)+parseInt(0!=i.InfantCount?(parseFloat(i.FareDetail.InfantDiscount)+parseFloat(i.FareDetail.InfantCommission)).toFixed():0),u=$("#hdnAvailabilityDiscountsDom").val().split(","),m=!1,d=0;d<u.length;d++)u[d]==i.AirlineCode&&(f=Math.round(f-(i.FareDetail.TotalAdultST+i.FareDetail.TotalChildST+i.FareDetail.TotalInfantST)),m=!0);if(f>0)m?(n+='<div class="rt-head2"><div class="head-rt2">Save Rs. : `',n+=f+' on  Booking!!!</div></div><div class="price"><div class="totel-fare-big"><span class="rupees-big2">`</span><span class="flt-lft">'+(F=Math.round(i.FareDetail.AdultGross+i.FareDetail.ChildGross+i.FareDetail.InfantGross-(i.FareDetail.TotalAdultST+i.FareDetail.TotalChildST+i.FareDetail.TotalInfantST)))+'</span></div><div class="clear"></div></div></div></div>'):(n+='<div class="rt-head"><div class="rt-head-left"><img src="/content/images/ak/v1.0/flight/left-pc.png" width="23" height="18" alt="Image"></div><div class="head-rt">Dis. : `',n+=f+'</div></div><div class="price"><div class="totel-fare-sm"><span class="rupees-small">`</span><span class="flt-lft">'+i.GrossFare+'</span></div><div class="clear"></div><div class="totel-fare-big"><span class="rupees-big2">`</span><span class="flt-lft">'+i.NetFare+'</span></div><div class="clear"></div></div></div></div>');else if(m){var F=Math.round(i.FareDetail.AdultGross+i.FareDetail.ChildGross+i.FareDetail.InfantGross-(i.FareDetail.TotalAdultST+i.FareDetail.TotalChildST+i.FareDetail.TotalInfantST));n+='<div class="non-dis-btm"></div><div class="dis-price"><div class="totel-fare-big"><span class="rupees-big2">`</span><span class="flt-lft">'+F+'</span></div><div class="clear"></div></div></div></div>'}else n+='<div class="non-dis-btm"></div><div class="dis-price"><div class="totel-fare-big"><span class="rupees-big2">`</span><span class="flt-lft">'+i.NetFare+'</span></div><div class="clear"></div></div></div></div>';"o"==e?$("#owSelected").html(n):$("#rtSelected").html(n)}function refresh_scroll_div(){$($(".grey-scroll-bg").parent()).each(function(e){var t=$(this).children().eq(1);if(prev_height[item_count]!=$(t)[0].scrollHeight||prev_height_outer[item_count]!=$(t).parent().height()){var i=$(t).parent().height()/$(t)[0].scrollHeight*$(t).parent().height(),r=i+($(t).parent().height()-i)/$(t)[0].scrollHeight*$(t).parent().height(),a=($(t).parent().height()-i)/$(t)[0].scrollHeight*$(t).scrollTop();if($(t)[0].scrollHeight>$(t).outerHeight()){if($($(t).parent().find(".grey-scroll-bt")).fadeIn(),$($(t).parent().find(".grey-scroll-bg")).fadeIn(),r>=2){a=($(t).parent().height()-i)/$(t)[0].scrollHeight*$(t).scrollTop();$($(t).parent().find(".grey-scroll-bt")).css({top:a+"px",height:r+"px"})}else{a=($(t).parent().height()-2)/$(t)[0].scrollHeight*$(t).scrollTop();$($(t).parent().find(".grey-scroll-bt")).css({top:a+"px",height:"2px"})}$($(t).parent().find(".grey-scroll-bg")).css({top:"0px",height:$(t).parent().outerHeight()+"px"})}else $($(t).parent().find(".grey-scroll-bt")).fadeOut(),$($(t).parent().find(".grey-scroll-bg")).fadeOut()}if(0==scroll_target_flag){$(t).attr("class");for(var l,o=scroll_target,s=!1;"-1"!=o.indexOf(",");)l=o.substring(o.indexOf(".")+1,o.indexOf(",")),o=o.substring(o.indexOf(",")+1),$(t).attr("class")==l&&(s=!0);0==s&&(scroll_target+="."+$(t).attr("class")+",")}prev_height[item_count]=$(t)[0].scrollHeight,prev_height_outer[item_count]=$(t).parent().height(),item_count+=1}),scroll_target_flag=!0}function display(e,t,i,r){flagDomMC="false"!=$("#DomMC").val().toLowerCase(),visibleCount=0,0==i&&$("#"+t).html("");var a="",l="",o="",s="";if($.each(e,function(e,t){if(loadingFlights&&(t.Duration=findTimeDiff(t.DepartureDateTime,t.ArrivalDateTime,"T").replace("H",".").replace("M","").replace(" ",""),l="MC"==t.ChannelCode?propercaseAirName("Multiple Carrier"):propercaseAirName(t.AirlineName),-1==allFlightNames.indexOf(l.replace(" ","").replace(" ","").toLowerCase()+"|")&&(allFlightNames=allFlightNames+l.replace(" ","").replace(" ","").toLowerCase()+"|",avlbleFlights=avlbleFlights+l+"|",FilterArray.Airlines[0].PrevAirlines=avlbleFlights),"o"==r?(t.NetFare>maxFareO&&(maxFareO=t.NetFare,FilterArray.Farescale[0].MaxFare=maxFareO,FilterArray.Farescale[0].OriginalMaxFAre=maxFareO,FilterArray.Farescale[0].PrevMaxFare=maxFareO),t.NetFare<minFareO&&(minFareO=t.NetFare,FilterArray.Farescale[0].MinFare=minFareO,FilterArray.Farescale[0].OrginalMin=minFareO,FilterArray.Farescale[0].PrevMinFare=minFareO)):(t.NetFare>maxFareR&&(maxFareR=t.NetFare,FilterArray.Farescale[1].MaxFare=maxFareR,FilterArray.Farescale[1].OriginalMaxFAre=maxFareR,FilterArray.Farescale[1].PrevMaxFare=maxFareR),t.NetFare<minFareR&&(minFareR=t.NetFare,FilterArray.Farescale[1].MinFare=minFareR,FilterArray.Farescale[1].OrginalMin=minFareR,FilterArray.Farescale[1].PrevMinFare=minFareR)),"o"==r?(onwDeptAirports=-1!=onwDeptAirports.indexOf(t.SectorDetails[0].DepartureAirportName+"~o|")?onwDeptAirports:onwDeptAirports+t.SectorDetails[0].DepartureAirportName+"~o|",onwArrAirports=-1!=onwArrAirports.indexOf(t.SectorDetails[t.SectorDetails.length-1].ArrivalAirportName+"~o|")?onwArrAirports:onwArrAirports+t.SectorDetails[t.SectorDetails.length-1].ArrivalAirportName+"~o|",t.SectorDetails.length>1&&$.each(t.SectorDetails,function(e,i){e<t.SectorDetails.length-1&&(onwConAirports=-1!=onwConAirports.indexOf(i.ArrivalAirportName+"~o|")?onwConAirports:onwConAirports+i.ArrivalAirportName+"~o|")})):(retDeptAirports=-1!=retDeptAirports.indexOf(t.SectorDetails[0].DepartureAirportName+"~r|")?retDeptAirports:retDeptAirports+t.SectorDetails[0].DepartureAirportName+"~r|",retArrAirports=-1!=retArrAirports.indexOf(t.SectorDetails[t.SectorDetails.length-1].ArrivalAirportName+"~r|")?retArrAirports:retArrAirports+t.SectorDetails[t.SectorDetails.length-1].ArrivalAirportName+"~r|",t.SectorDetails.length>1&&$.each(t.SectorDetails,function(e,i){e<t.SectorDetails.length-1&&(retConAirports=-1!=retConAirports.indexOf(i.ArrivalAirportName+"~r|")?retConAirports:retConAirports+i.ArrivalAirportName+"~r|")})),flagDomMC&&("o"==r?(t.JourneyInMinutes>maxLayOverO&&(maxLayOverO=t.JourneyInMinutes,FilterArray.LayoverTime[0].MaxLayover=maxLayOverO,FilterArray.LayoverTime[0].OriginalMaxLayover=maxLayOverO,FilterArray.LayoverTime[0].PrevMaxLayover=maxLayOverO),t.JourneyInMinutes<minLayOverO&&(minLayOverO=t.JourneyInMinutes,FilterArray.LayoverTime[0].MinLayover=minLayOverO,FilterArray.LayoverTime[0].OrginalMinLayover=minLayOverO,FilterArray.LayoverTime[0].PrevMinLayover=minLayOverO)):(t.JourneyInMinutes>maxLayOverR&&(maxLayOverR=t.JourneyInMinutes,FilterArray.LayoverTime[1].MaxLayover=maxLayOverR,FilterArray.LayoverTime[1].OriginalMaxLayover=maxLayOverR,FilterArray.LayoverTime[1].PrevMaxLayover=maxLayOverR),t.JourneyInMinutes<minLayOverR&&(minLayOverR=t.JourneyInMinutes,FilterArray.LayoverTime[1].MinLayover=minLayOverR,FilterArray.LayoverTime[1].OrginalMinLayover=minLayOverR,FilterArray.LayoverTime[1].PrevMinLayover=minLayOverR)))),"o"==r?(o="owflight",s="owrsfbanner"):(o="rtflight",s="rtrsfbanner"),1==t.Visible){visibleCount++;var i=0,n=0,c="";"r"==r&&(i=t.SrNo,n=0,c="R"),"o"==r&&(n=t.SrNo,i=0,c="O");var d="";d="G9"==t.SectorDetails[0].MarketingAirlineCode&&-1!=t.SectorDetails[0].FlightNo.indexOf("G9")?t.SectorDetails[0].FlightNo.replace("G9",""):t.SectorDetails[0].FlightNo,discount=parseInt((parseFloat(t.FareDetail.AdultDiscount)+parseFloat(t.FareDetail.AdultCommission)).toFixed())+parseInt(0!=t.ChildCount?(parseFloat(t.FareDetail.ChildDiscount)+parseFloat(t.FareDetail.ChildCommission)).toFixed():0)+parseInt(0!=t.InfantCount?(parseFloat(t.FareDetail.InfantDiscount)+parseFloat(t.FareDetail.InfantCommission)).toFixed():0);for(var p=!1,h=$("#hdnAvailabilityDiscountsDom").val().split(","),g=0;g<h.length;g++)h[g]==t.AirlineCode&&(discount=Math.round(discount-(t.FareDetail.TotalAdultST+t.FareDetail.TotalChildST+t.FareDetail.TotalInfantST)),p=!0);var v="";v=discount>0&&p?"spl-top2":"spl-top",a=(a=a+'<div class="split-box" id="'+o+e+'"><div class="inner-main"><div class="inner-box-left"><div class="inner-main"><div class="rd-box"><input name="" type="radio" value=""></div><div class="sub-sct"><div class="'+v+'"><div class="flt-depbt">')+t.SectorDetails[0].AirlineCode+"-"+d+'</div><div class="flt-durbt">'+getTimes(t.SectorDetails[0].DepartureDateTime,"T")+'</div><div class="flt-arrbt">'+findTimeDiff(t.DepartureDateTime,t.ArrivalDateTime,"T").replace("."," Hr. ")+".</div>",a=a+'<div class="flt-prcbt">'+getTimes(t.SectorDetails[t.SectorDetails.length-1].ArrivalDateTime,"T")+'.</div></div><div class="spl-bottom"><div class="flt-depbt">',a="MC"==t.ChannelCode?a+'<img src="'+imgPath+'/flightbooking/images/AirlineLogo/Multiple.gif" width="70" height="30" alt="Image">':"C6E"==t.ChannelCode?a+'<img src="'+imgPath+'/flightbooking/images/AirlineLogo/ATO-sp.gif" width="70" height="30" alt="Image">':a+'<img src="'+imgPath+t.SectorDetails[0].LogoPath+'" width="70" height="30" alt="image">',t.SectorDetails[0].MarketingAirlineCode!=t.SectorDetails[0].OperatingAirlineCode&&(a=a+"<div class='operatedby'><b>Operated By:</b><br/>"+t.SectorDetails[0].OperatingAirline+"</div>"),a+='</div><div class="flt-durbtm">';var f=t.SectorDetails.length-1+t.NoOfHoppings==0?"No Stop":t.SectorDetails.length-1+t.NoOfHoppings+" Stops";"TRUE"==$("#baggageDisplay").val().toUpperCase()?(a=a+f+'</div><div id="'+r+"d"+t.SrNo+'" class="flt-arrbtm red-color">+details</div>',a="TZ"==t.ChannelCode?a+'<div class="bgedtls display-new bag-dtls" title="^^<Package Inclusions>" onclick=ShowPackageInclusionSearch("'+$("#Key").val()+'","D","'+c+'","'+n+'","'+i+'","'+secIndex+'","R")></div>':a+'<div class="bgedtls display-new bag-dtls" title="^^<Baggage>" onclick=ShowBaggageDtlsSearchDomRT("'+$("#Key").val()+'","D","'+c+'","'+n+'","'+i+'","'+secIndex+'","R")></div>',a+='<div class="flt-prcbt">'):a=a+f+'</div><div id="'+r+"d"+t.SrNo+'" class="flt-arrbtm red-color">+details</div><div class="flt-prcbt">';for(var u=t.SectorDetails[0].AvailableSeat,m=$("#HideSeat").val().split(","),F=!1,S=0;S<m.length;S++)m[S]==t.SectorDetails[0].AirlineCode&&(F=!0);if(0==F&&null!=u&&""!=u&&parseInt(u)>0&&(a=a+'<div class="display-new seatsplit" title="^^<'+u+'&nbsp;Seat(s)&nbsp;Left>"><div class="seat-no">'+u+"</div></div>"),a+='</div></div></div></div></div><div class="inner-box-right">',discount>0&&(a=p?a+'<div class="rt-head2"><div class="rt-head-right2"> Save Rs. : `'+discount+"  on  Booking!!! </div>":a+'<div class="rt-head"><div class="rt-head-left"><img src="/content/images/ak/v1.0/flight/left-pc.png" width="23" height="18" alt=""></div><div class="rt-head-right"> Dis. : `'+discount+"</div>"),discount>0&&!p)a=a+'<div class="price"><div class="totel-fare-sm"><span class="rupees-small">`</span><span class="flt-lft">'+t.GrossFare+'</span></div><div class="clear"></div><div class="totel-fare-big"><span class="rupees-big2">`</span><span class="flt-lft">'+t.NetFare+'</span></div><div class="clear"></div></div></div></div>';else if(p){var w=Math.round(t.FareDetail.AdultGross+t.FareDetail.ChildGross+t.FareDetail.InfantGross-(t.FareDetail.TotalAdultST+t.FareDetail.TotalChildST+t.FareDetail.TotalInfantST));a=a+'<div class="non-discnt"></div><div class="dis-price"><div class="totel-fare-big"><span class="rupees-big2">`</span><span class="flt-lft">'+Math.round(w)+'</span></div><div class="clear"></div></div></div></div>'}else a=a+'<div class="non-discnt"></div><div class="dis-price"><div class="totel-fare-big"><span class="rupees-big2">`</span><span class="flt-lft">'+t.NetFare+'</span></div><div class="clear"></div></div></div></div>';a+='<div class="spl-btm "  >';for(var b="",D=0;D<t.SectorDetails.length;D++)b+=t.SectorDetails[D].AirlineCode+t.SectorDetails[D].FlightNo;if(a=a+'<div  class="flt-lft red-color dspl-martop '+("o"==r?"owrsfdeal":"rtrsfdeal")+'"  id="'+s+b+t.ProductClass+'" style="display:none"><span class="display-new deall"></span>Book combination flights and save more</div>',"SG"==t.SectorDetails[0].AirlineCode&&"Refundable"==t.FareType&&"HF"==t.ProductClass&&(t.SectorDetails[0].BookingClass.toUpperCase().indexOf("C")||t.SectorDetails[0].BookingClass.toUpperCase().indexOf("E")||t.SectorDetails[0].BookingClass.toUpperCase().indexOf("F"))&&(a+=" <div class='guarantee'><a href='javascript:void(0);' onclick=unlimitedchanges(event)>No Change Fee/Unlimited Changes</a></div> "),void 0!=t.Type&&""!=t.Type&&"FAMILY"==t.Type.trim().toUpperCase()&&("o"==r?"SG"==t.SectorDetails[0].AirlineCode?a+='<div class="clear"></div> <div class="famly-fre"><a href="#" onmouseover="ShowFamilyFare(this)" onmouseout="hideFamilyFare()" >Family Fare</a></div> ':a+='<div class="clear"></div> <div class="famly-fre"><a >Family Fare</a ></div> ':"SG"==t.SectorDetails[0].AirlineCode?a+='<div class="clear"></div> <div class="famly-fre"><a href="#" onmouseover="ShowFamilyFareRT(this)" onmouseout="hideFamilyFareRT()" >Family Fare</a></div> ':a+='<div class="clear"></div> <div class="famly-fre"><a >Family Fare</a ></div> '),null!=BaggageSpecialConditionSections&&""!=BaggageSpecialConditionSections&&BaggageSpecialConditionSections.length>0){var C=0;for(C=0;C<BaggageSpecialConditionSections.length;C++)if(void 0!=t.Type&&""!=t.Type&&null!=BaggageSpecialConditionSections[C].Type&&BaggageSpecialConditionSections[C].Type.trim().toUpperCase()==t.Type.trim().toUpperCase())if("*"==BaggageSpecialConditionSections[C].Airline)a+="<div class='sp-fare-bg'>"+BaggageSpecialConditionSections[C].Message+"</div>";else if(BaggageSpecialConditionSections[C].Airline.split("|").length>1){for(var A=BaggageSpecialConditionSections[C].Airline.split("|"),T=BaggageSpecialConditionSections[C].Message.split("|"),y=!1,R=0;R<A.length;R++)A[R]==t.SectorDetails[0].AirlineCode&&(y=!0,a+="<div class='sp-fare-bg'>"+T[R]+"</div>");y||(a+="<div class='sp-fare-bg'>"+T[T.length-1]+"</div>")}}if(a+="</div>",""!=t.offertext&&(a=a+'<div class="spl-btm"><div class="flt-lft red-color dspl-martop"><span class="display-new deall"></span>'+t.offertext+"</div></div>"),""!=t.noticeRemarks){a+='<div class="spl-btm">';var k=$("#hdnNoticeSplitText").val().split(","),x=t.noticeRemarks.split(k[0])[0],O="",I="";t.noticeRemarks.split(k[0]).length>1&&(O=t.noticeRemarks.split(k[0])[1].split(k[1])[0],I=t.noticeRemarks.split(k[0])[1].split(k[1])[1]),a=(a+="<div class='clear'></div>")+"<div class='flt-lft dspl-martop offer_new_row'>* "+x,""!=O&&" "!=O&&(a=a+"<span> "+O+"</span>"),a=""!=I&&" "!=I||""==O?a+I+"&nbsp;</div>":a+I+"</div>",a+="</div>"}a=(a+="</div>")+'<div id="'+r+"b"+t.SrNo+'" class="split-open-box"><div class="split-open">',$.each(t.SectorDetails,function(e,i){var r="";r="G9"==i.MarketingAirlineCode&&-1!=i.FlightNo.indexOf("G9")?i.FlightNo.replace("G9",""):i.FlightNo,a=a+'<div class="full-div flt-lft"><div class="spl-flgt-open"><div class="flt-lft"><img src="'+imgPath+i.LogoPath+'" alt="image"></div><div class="clear"></div><div class="spl-col">'+i.AirlineName+'</div><div class="flt-lft eco-spl">'+i.AirlineCode+" "+r+" | ";var l="";l="F"==i.CabinClass?"First Class":"B"==i.CabinClass?"Business":"PE"==i.CabinClass?"Premium Economy":"Economy",a=a+l+"</div>",i.MarketingAirlineCode!=i.OperatingAirlineCode&&(a=a+" <div><b>Operated By:</b><br/>"+i.OperatingAirline+"</div>");var o=i.DepTerminal.replace('""',"");null!=i.DepTerminal.replace('""',"")&&""!=i.DepTerminal.replace('""',"")&&'""'!=i.DepTerminal.replace('""',"")&&i.DepTerminal.replace('""',"").indexOf("Terminal")<0&&(o="Terminal "+i.DepTerminal.replace('""',""));var s=i.ArrTerminal.replace('""',"");if(null!=i.ArrTerminal.replace('""',"")&&""!=i.ArrTerminal.replace('""',"")&&'""'!=i.ArrTerminal.replace('""',"")&&i.ArrTerminal.replace('""',"").indexOf("Terminal")<0&&(s="Terminal "+i.ArrTerminal.replace('""',"")),a+=" </div>",a=a+' <div class="bk-open-spl"><div class="spl-flgt-main"><div class="spl-left"><div class="spl">'+i.From+" ["+i.DepartureAirportCode+']</div><div class="dt-spl">',a=a+getTimes(i.DepartureDateTime,"T")+" | "+getDatesIN(i.DepartureDateTime)+"</div><div>"+i.DepartureAirportName+"</div><div>  "+o+'</div></div><div class="spl-open"><div class="display-new time-icon open-ma"></div><br>'+findTimeDiff(i.DepartureDateTime,i.ArrivalDateTime,"T").replace("."," Hr. ")+' . </div><div class="spl-right"><div class="spl">',a=a+i.To+" ["+i.ArrivalAirportCode+']</div><div class="dt-spl">'+getTimes(i.ArrivalDateTime,"T")+" | "+getDatesIN(i.ArrivalDateTime,"T")+"</div><div>"+i.ArrivalAirportName+"</div><div>  "+s+"</div></div></div></div></div>",null!=i.HoppingDetails&&i.HoppingDetails.length>0){a+="<div><strong>via ";for(var n=0;n<i.HoppingDetails.length;n++)null!=i.HoppingDetails[n].ArrivalAirportCode&&""!=i.HoppingDetails[n].ArrivalAirportCode&&(a=a+i.HoppingDetails[n].ArrivalCity+"["+i.HoppingDetails[n].ArrivalAirportCode+"]",null!=i.HoppingDetails[n].ArrivalDateTime&&""!=i.HoppingDetails[n].ArrivalDateTime&&(a=a+" arrival at "+getTimes(i.HoppingDetails[n].ArrivalDateTime,"T")+" and departure at "+getTimes(i.HoppingDetails[n].DepartureDateTime,"T")),n!=i.HoppingDetails.length-1&&(a+="</br>"));a+=" </strong></div>"}if(a+="<div ",e<t.SectorDetails.length-1){if(a+='class="layover-bt">',0==e){if(a+='<div class="sct-box-spl">',"LV"!=t.ChannelCode.toUpperCase()&&("Refundable"==t.FareType?a+='<div class="displaypage-sprite refund cmn-marlft" title="^^<Refundable>"></div>':a+='<div class="displaypage-sprite non-refund cmn-marlft" title="^^<Non Refundable>"></div>'),e<t.SectorDetails.length-1){c=CalculateTotalLayoverTime(t);parseInt(c)<=120?a+='<div class="displaypage-sprite short-layover" title="^^<Short&nbsp;Layover>"></div>':a+='<div class="displaypage-sprite long-layover" title="^^<Long&nbsp;Layover>"></div>'}parseInt(t.DepartureDateTime.split("T")[1].split(":")[0])>18&&(a+='<div class="displaypage-sprite night-flight" title="^^<Night&nbsp;Flight>"></div>'),a+="</div>"}var c="&nbsp;";c=findTimeDiff(i.ArrivalDateTime,t.SectorDetails[e+1].DepartureDateTime,"T").replace("."," Hr. ")+".",a+="<p>Layover "+c+"</p>"}else a+=">";a+="</div>"}),a+="</div></div></div>"}}),""==a&&0==loadingFlights&&(a+="o"==r?'<div class="split-box"><div class="inner-main"><div class="bknstus-errordiv"><div class="display-new bs-bkststs-splt flt-lft "></div><div class="found-errortxt"><div class="no-flight">We are sorry, no flight were found that match your criteria</div><div class="bknstus-fount">Please change the search criteria and try again. </div><div class="found-bt">Departure : '+$("#From").val()+"["+$("#Departure").val()+"] to "+$("#To").val()+' </div><div class="new-srch">Reset Filter Or <a href="/Flight">Start a new search</a></div><div class="help-call">Call us on<span class="red-color">'+$("#tollfree").val()+"</span> </div></div></div></div></div>":'<div class="split-box"><div class="inner-main"><div class="bknstus-errordiv"><div class="display-new bs-bkststs-splt flt-lft "></div><div class="found-errortxt"><div class="no-flight">We are sorry, no flight were found that match your criteria</div><div class="bknstus-fount">Please change the search criteria and try again. </div><div class="found-bt">Departure : '+$("#To").val()+"["+$("#Return").val()+"] to "+$("#From").val()+' </div><div class="new-srch">Reset Filter Or <a href="/Flight">Start a new search</a></div><div class="help-call">Call us on<span class="red-color"> '+$("#tollfree").val()+"</span> </div></div></div></div></div>"),$("#"+t).html(a),loadingFlights){var c='<ul class="list-flgt">';for(n=0;n<avlbleFlights.split("|").length-1;n++)c+='<li><div class="leftitem"><p class="defaultP"><input type="checkbox" name="allAirlines" checked="checked" value="'+replaceAll(avlbleFlights.split("|")[n].toLowerCase()," ","")+'" id="chk'+replaceAll(avlbleFlights.split("|")[n].toLowerCase()," ","")+'" class="flt-lft" /></p><label for="twostop"  onclick="applyLabelClick(event)">'+avlbleFlights.split("|")[n]+"</label></div></li>";$("#fltAirlines").html(c);var d="";if(""!=onwDeptAirports)for(n=0;n<onwDeptAirports.split("|").length-1;n++)d+='<div class="leftitem"><p class="defaultP"><input type="checkbox" name="allDeptsAirports" class="flt-lft" id=chk'+replaceAll(onwDeptAirports.split("|")[n].toLowerCase()," ","")+' checked="checked" value="'+replaceAll(onwDeptAirports.split("|")[n].toLowerCase()," ","")+'" /></p>',d+='<label for="nostop" style="cursor:pointer" onclick="applyLabelClick(event)" >'+onwDeptAirports.split("|")[n].split("~")[0]+"</label></div>";$("#onwDeptAirportDiv").html(d);var p="";if(""!=retDeptAirports)for(n=0;n<retDeptAirports.split("|").length-1;n++)p+='<div class="leftitem"><p class="defaultP"><input type="checkbox" name="allDeptsAirports" class="flt-lft" id=chk'+replaceAll(retDeptAirports.split("|")[n].toLowerCase()," ","")+' checked="checked" value="'+replaceAll(retDeptAirports.split("|")[n].toLowerCase()," ","")+'" /></p>',p+='<label for="nostop" style="cursor:pointer" onclick="applyLabelClick(event)" >'+retDeptAirports.split("|")[n].split("~")[0]+"</label></div>";$("#retDeptAirportDiv").html(p);var h="";if(""!=onwArrAirports)for(n=0;n<onwArrAirports.split("|").length-1;n++)h+='<div class="leftitem"><p class="defaultP"><input type="checkbox" name="allArrAirports" class="flt-lft" id=chk'+replaceAll(onwArrAirports.split("|")[n].toLowerCase()," ","")+' checked="checked" value="'+replaceAll(onwArrAirports.split("|")[n].toLowerCase()," ","")+'" /></p>',h+='<label for="nostop" style="cursor:pointer" onclick="applyLabelClick(event)" >'+onwArrAirports.split("|")[n].split("~")[0]+"</label></div>";$("#onwArrAirportDiv").html(h);var g="";if(""!=retArrAirports)for(n=0;n<retArrAirports.split("|").length-1;n++)g+='<div class="leftitem"><p class="defaultP"><input type="checkbox" name="allArrAirports" class="flt-lft" id=chk'+replaceAll(retArrAirports.split("|")[n].toLowerCase()," ","")+' checked="checked" value="'+replaceAll(retArrAirports.split("|")[n].toLowerCase()," ","")+'" /></p>',g+='<label for="nostop" style="cursor:pointer" onclick="applyLabelClick(event)" >'+retArrAirports.split("|")[n].split("~")[0]+"</label></div>";$("#retArrAirportDiv").html(g);var v="";if(""!=onwConAirports)for(n=0;n<onwConAirports.split("|").length-1;n++)v+='<div class="leftitem"><p class="defaultP"><input type="checkbox" name="allConAirports" class="flt-lft" id=chk'+replaceAll(onwConAirports.split("|")[n].toLowerCase()," ","")+' checked="checked" value="'+replaceAll(onwConAirports.split("|")[n].toLowerCase()," ","")+'" /></p>',v+='<label for="nostop" style="cursor:pointer" onclick="applyLabelClick(event)" >'+onwConAirports.split("|")[n].split("~")[0]+"</label></div>";$("#onwConctAirportDiv").html(v);var f="";if(""!=retConAirports)for(n=0;n<retConAirports.split("|").length-1;n++)f+='<div class="leftitem"><p class="defaultP"><input type="checkbox" name="allConAirports" class="flt-lft" id=chk'+replaceAll(retConAirports.split("|")[n].toLowerCase()," ","")+' checked="checked" value="'+replaceAll(retConAirports.split("|")[n].toLowerCase()," ","")+'" /></p>',f+='<label for="nostop" style="cursor:pointer" onclick="applyLabelClick(event)" >'+retConAirports.split("|")[n].split("~")[0]+"</label></div>";$("#retConctAirportDiv").html(f),FilterArray.DepartAirports[0].PrevDepartAirports=onwDeptAirports,FilterArray.ArrivalAirports[0].PrevArrivalAirports=onwArrAirports,FilterArray.ConnectingAirports[0].PrevConnectingAirports=onwConAirports,FilterArray.DepartAirports[0].PrevDepartAirports+=retDeptAirports,FilterArray.ArrivalAirports[0].PrevArrivalAirports+=retArrAirports,FilterArray.ConnectingAirports[0].PrevConnectingAirports+=retConAirports,"o"==r?($("#slider-rangeo").slider("option",{min:minFareO,max:maxFareO}),$("#slider-rangeo").slider("option","values",[minFareO,maxFareO]),$("#amounto").html("`"+minFareO+" - `"+maxFareO)):($("#slider-ranger").slider("option",{min:minFareR,max:maxFareR}),$("#slider-ranger").slider("option","values",[minFareR,maxFareR]),$("#amountr").html("`"+minFareR+" - `"+maxFareR)),flagDomMC&&("o"==r?($("#slider-layovero").slider("option",{min:minLayOverO,max:maxLayOverO}),$("#slider-layovero").slider("option","values",[minLayOverO,maxLayOverO]),$("#layovero").html(minuteToHour(minLayOverO,maxLayOverO))):($("#slider-layoverr").slider("option",{min:minLayOverR,max:maxLayOverR}),$("#slider-layoverr").slider("option","values",[minLayOverR,maxLayOverR]),$("#layoverr").html(minuteToHour(minLayOverR,maxLayOverR))))}"o"==r?$("#owflightcount").html("Showing "+visibleCount+" of "+e.length+" flights"):$("#rtflightcount").html("Showing "+visibleCount+" of "+e.length+" flights"),BindingCall()}function delay(){$.unblockUI()}function sortSplit(e,t,i,r,a){return i=1!=loadingFlights&&("o"==a?preOnwFieldName==t&&1!=preOnwReverse:PreRetFieldName==t&&1!=preRetReverse),"o"==a?isReverseSortOnw=i:isReverseSortRet=i,e.sort(sort_by(t,i,r)),0==loadingFlights?"o"==a?(preOnwFieldName=t,preOnwReverse=i):(PreRetFieldName=t,preRetReverse=i):(preOnwFieldName="NetFare",PreRetFieldName="NetFare",preOnwReverse=!1,preRetReverse=!1),prevSortDirection=a,!1}function ApplySort(e,t,i,r){$.blockUI({message:"<div class='waitarea'><div class='waitcontainer'><div class='waitimage'><img width='60' height='60' alt='Loader' src='/content/images/ak/v1.0/Common/Loader.gif'></div><div class='waittxt'><span>Please Wait...</span></div></div></div>",css:{width:"482px",border:"none",padding:"5px",backgroundColor:"#FFF","text-align":"left"}});var a=r.target;$(a).parents(".split-heading").find(".dest-arrow-down").attr("Id")==$(a).find("span").attr("Id")?$(a).find("span").removeClass("dest-arrow-down").addClass("dest-arrow"):($(a).parent().find("span").removeClass("dest-arrow-down").addClass("dest-arrow"),$(a).find("span").removeClass("dest-arrow").addClass("dest-arrow-down")),"o"==e?(sortSplit(onwardcached,t,!1,i,e),container="owdisplay",display(onwardcached,container,!1,"o")):(sortSplit(returncached,t,!1,i,e),container="rtdisplay",display(returncached,container,!1,"r")),$.unblockUI()}function BindingCall(){}function selectFlight(e,t){"o"==e?onwno=t:retno=t;var r="";if(1==loadingFlights)return $.blockUI({message:"<div class='waitarea'><div class='waitcontainer'><div class='waitimage displaysprite'></div><div class='waittxt'><span>Please Wait...</span><br />Search for lowest fares is not completed yet...<br />This will only take a few seconds. </div></div></div>",css:{width:"482px",border:"none",padding:"5px",backgroundColor:"#FFF","text-align":"left"}}),void setTimeout("delay()",3e3);rsfval=0;if("o"==e){if(onwardselected=onwardcached[t].SectID,$("#onwardSrno").val(onwardcached[t].SectID),normalselectedsrno=onwardselected,objowflight=onwardcached[t],t,$(".rtrsfdeal").css("display","none"),owprice=objowflight.NetFare,owTime=objowflight.ArrivalDateTime,discount=parseInt((parseFloat(objowflight.FareDetail.AdultDiscount)+parseFloat(objowflight.FareDetail.AdultCommission)).toFixed())+parseInt(0!=objowflight.ChildCount?(parseFloat(objowflight.FareDetail.ChildDiscount)+parseFloat(objowflight.FareDetail.ChildCommission)).toFixed():0)+parseInt(0!=objowflight.InfantCount?(parseFloat(objowflight.FareDetail.InfantDiscount)+parseFloat(objowflight.FareDetail.InfantCommission)).toFixed():0),$("#RSFType").val("0"),rtprice=0,"CSG"!=objowflight.ChannelCode&&"PSG"!=objowflight.ChannelCode&&"C6E"!=objowflight.ChannelCode)if(null!=objowflight.RSFReturnFlights)for(i=0;i<objowflight.RSFReturnFlights.split(",").length;i++){var a=parseInt(objowflight.RSFReturnFlights.split(",")[i],10)-1;for(j=0;j<returncached.length;j++)try{var l=0;for(m=0;m<RSFonwardcached.length;m++){for(var o="",s="",n=0;n<RSFonwardcached[m].SectorDetails.length;n++)s+=RSFonwardcached[m].SectorDetails[n].AirlineCode+RSFonwardcached[m].SectorDetails[n].FlightNo;for(v=0;v<objowflight.SectorDetails.length;v++)o+=objowflight.SectorDetails[v].AirlineCode+objowflight.SectorDetails[v].FlightNo;o==s&&(l=RSFonwardcached[m].NetFare)}if("CSG"!=returncached[j].ChannelCode&&"PSG"!=returncached[j].ChannelCode&&"C6E"!=returncached[j].ChannelCode&&returncached[j].ChannelCode==RSFreturncached[a].ChannelCode&&RSFreturncached[a].AirlineCode+RSFreturncached[a].FlightNo==returncached[j].AirlineCode+returncached[j].FlightNo&&objowflight.FareDetail.NetFare+returncached[j].FareDetail.NetFare>l+RSFreturncached[a].NetFare){for(var c=$("#hdnRSFCombinationFlight").val().split(";"),d=!1,p=!1,h=0;h<c.length;h++)if(returncached[j].ChannelCode==c[h].split(":")[0]){b=c[h].split(":")[1].split(",");d=!0;for(n=0;n<b.length;n++)b[n]==returncached[j].ProductClass&&(p=!0)}if(!d){for(var g="",v=0;v<returncached[j].SectorDetails.length;v++)g+=returncached[j].SectorDetails[v].AirlineCode+returncached[j].SectorDetails[v].FlightNo;$("#rtrsfbanner"+g+returncached[j].ProductClass).css("display","block");break}if(p){for(var g="",v=0;v<returncached[j].SectorDetails.length;v++)g+=returncached[j].SectorDetails[v].AirlineCode+returncached[j].SectorDetails[v].FlightNo;$("#rtrsfbanner"+g+returncached[j].ProductClass).css("display","block");break}}}catch(e){}}else $(".owrfsdeal").css("display","none"),$("#RSFType").val("0"),rsfval=0;else $("#RSFType").val("0"),rsfval=0;0==firstSelection&&selectFlight("r",returnselectedindex),flagOW=!0}else{if(0==onwardselected)return r='<div class="split-box"><div class="inner-main"><div class="bknstus-errordiv"><div class="display-new bs-bkststs-splt flt-lft "></div><div class="found-errortxt"><div class="no-flight">We are sorry, no flight were found that match your criteria</div><div class="bknstus-fount">Please change the search criteria and try again. </div><div class="found-bt">Departure : '+$("#From").val()+"["+$("#Departure").val()+"] to "+$("#To").val()+' </div><div class="new-srch">Reset Filter Or <a href="/Flight">Start a new search</a></div><div class="help-call">Call us on<span class="red-color"> '+$("#tollfree").val()+"</span> </div></div></div></div></div>",$("#owdisplay").html(r),!1;$("#RSFType").val("0"),returnselected=returncached[t].SectID,$("#returnSrno").val(returnselected),returnselectedindex=t,objrtflight=returncached[t];var f=returncached[t];if(t,parseInt(findTimeDiff(owTime,f.DepartureDateTime,"T"),10)<3)return void Show3HrMsg();discountret=parseInt((parseFloat(f.FareDetail.AdultDiscount)+parseFloat(f.FareDetail.AdultCommission)).toFixed())+parseInt(0!=f.ChildCount?(parseFloat(f.FareDetail.ChildDiscount)+parseFloat(f.FareDetail.ChildCommission)).toFixed():0)+parseInt(0!=f.InfantCount?(parseFloat(f.FareDetail.InfantDiscount)+parseFloat(f.FareDetail.InfantCommission)).toFixed():0),rtprice=0,normalreturnselectedsrno=returnselected;var u="";for(j=0;j<RSFonwardcached.length;j++){for(var o="",s="",m=0;m<RSFonwardcached[j].SectorDetails.length;m++)s+=RSFonwardcached[j].SectorDetails[m].AirlineCode+RSFonwardcached[j].SectorDetails[m].FlightNo;for(v=0;v<objowflight.SectorDetails.length;v++)o+=objowflight.SectorDetails[v].AirlineCode+objowflight.SectorDetails[v].FlightNo;o==s&&(u+=RSFonwardcached[j].ReturnIdentifier+",")}for(var F=$("#hdnAvailabilityDiscountsDom").val().split(","),S=!1,h=0;h<F.length;h++)F[h]==objowflight.AirlineCode&&(S=!0);for(var w=!1,h=0;h<F.length;h++)F[h]==objrtflight.AirlineCode&&(w=!0);for(i=0;i<RSFreturncached.length;i++){for(var o="",s="",m=0;m<RSFreturncached[i].SectorDetails.length;m++)s+=RSFreturncached[i].SectorDetails[m].AirlineCode+RSFreturncached[i].SectorDetails[m].FlightNo;for(v=0;v<returncached[t].SectorDetails.length;v++)o+=returncached[t].SectorDetails[v].AirlineCode+returncached[t].SectorDetails[v].FlightNo;for(var c=$("#hdnRSFCombinationFlight").val().split(";"),d=!1,p=!1,h=0;h<c.length;h++)if(returncached[t].ChannelCode==c[h].split(":")[0]){var b=c[h].split(":")[1].split(",");d=!0;for(n=0;n<b.length;n++)b[n]==returncached[t].ProductClass&&(p=!0)}if((0==d||1==d&&1==p)&&s==o&&RSFreturncached[i].ChannelCode==returncached[t].ChannelCode&&null!=objowflight.RSFReturnFlights&&-1!=(","+objowflight.RSFReturnFlights+",").indexOf(","+RSFreturncached[i].SrNo+",")&&-1!=(","+u).indexOf(","+RSFreturncached[i].ReturnIdentifier+",")){var D=0,C=0,A=RSFreturncached[i].RSFFlightNetFare.split(","),T="";S&&w?(A=RSFreturncached[i].RSFFlightGrossFare.split(","),T=RSFreturncached[i].RSFFlightServiceTax.split(","),D=objowflight.GrossFare,C=f.GrossFare):(A=RSFreturncached[i].RSFFlightNetFare.split(","),D=objowflight.NetFare,C=f.NetFare),$.each(A,function(e,t){objowflight.FlightNo==t.toString().split(":")[0]&&(rsfchk=t.toString().split(":")[1],rtprice=t.toString().split(":")[1],S&&w&&(rtprice-=T[e].toString().split(":")[1]))}),returnselected=RSFreturncached[i].SectID,objrt=RSFreturncached[i],objRSFrtflight=RSFreturncached[i],$("#RSFType").val("1"),$("#returnSrno").val(RSFreturncached[i].SectID);var y=0,R=D+C-rtprice;if(R>0)for(h=0;h<RSFonwardcached.length;h++){for(var o="",s="",m=0;m<RSFonwardcached[h].SectorDetails.length;m++)s+=RSFonwardcached[h].SectorDetails[m].AirlineCode+RSFonwardcached[h].SectorDetails[m].FlightNo;for(v=0;v<objowflight.SectorDetails.length;v++)o+=objowflight.SectorDetails[v].AirlineCode+objowflight.SectorDetails[v].FlightNo;if(s==o&&RSFonwardcached[h].ChannelCode==objowflight.ChannelCode&&RSFonwardcached[h].ReturnIdentifier==RSFreturncached[i].ReturnIdentifier){null!=RSFreturncached[i].RSFNetAmount&&""!=RSFreturncached[i].RSFNetAmount&&(normalselectedsrno=onwardselected,onwardselected=RSFonwardcached[h].SectID,$("#onwardSrno").val(RSFonwardcached[h].SectID),owprice=RSFonwardcached[h].NetFare,objRSFowflight=RSFonwardcached[h],S&&w&&(discount=RSFonwardcached[h].FareDetail.AdultDiscount+RSFonwardcached[h].FareDetail.AdultCommission+(0!=RSFonwardcached[h].ChildCount?RSFonwardcached[h].FareDetail.ChildDiscount+RSFonwardcached[h].FareDetail.ChildCommission:0)+(0!=RSFonwardcached[h].InfantCount?RSFonwardcached[h].FareDetail.InfantDiscount+RSFonwardcached[h].FareDetail.InfantCommission:0),discountret=RSFreturncached[i].FareDetail.AdultDiscount+RSFreturncached[i].FareDetail.AdultCommission+(0!=RSFreturncached[i].ChildCount?RSFreturncached[i].FareDetail.ChildDiscount+RSFreturncached[i].FareDetail.ChildCommission:0)+(0!=RSFreturncached[i].InfantCount?RSFreturncached[i].FareDetail.InfantDiscount+RSFreturncached[i].FareDetail.InfantCommission:0),y=discount+discountret,y-=RSFonwardcached[h].FareDetail.TotalAdultST+RSFonwardcached[h].FareDetail.TotalChildST+RSFonwardcached[h].FareDetail.TotalInfantST,y-=RSFreturncached[i].FareDetail.TotalAdultST+RSFreturncached[i].FareDetail.TotalChildST+RSFreturncached[i].FareDetail.TotalInfantST));break}}S&&w||(y=0==rsfchk?objowflight.NetFare+f.NetFare-RSFreturncached[i].RSFNetAmount+discount+discountret:objowflight.NetFare+f.NetFare-rsfchk+discount+discountret),S&&w?y=Math.round(y):(S&&(y=Math.round(y-(objowflight.FareDetail.TotalAdultST+objowflight.FareDetail.TotalChildST+objowflight.FareDetail.TotalInfantST))),w&&(y=Math.round(y-(objrtflight.FareDetail.TotalAdultST+objrtflight.FareDetail.TotalChildST+objrtflight.FareDetail.TotalInfantST)))),y>0?S&&w?($("#totaldiscmsg").removeClass("tlds-head"),$("#totaldiscmsg").addClass("tlds-head1"),$("#totaldiscmsg").html("Save Rs. `"+y+" on Booking!!!")):($("#totaldiscmsg").removeClass("tlds-head"),$("#totaldiscmsg").addClass("tlds-head"),$("#totaldiscmsg").html("Total Dis `"+y)):($("#totaldiscmsg").removeClass("tlds-head"),$("#totaldiscmsg").html("")),R<=0&&($("#RSFType").val("0"),rsfval=0,returnselected=normalreturnselectedsrno,onwardselected=normalselectedsrno,$("#onwardSrno").val(onwardselected),$("#returnSrno").val(normalreturnselectedsrno)),owprice=0;break}}for(var F=$("#hdnAvailabilityDiscountsDom").val().split(","),S=!1,h=0;h<F.length;h++)F[h]==objowflight.AirlineCode&&(S=!0);for(var w=!1,h=0;h<F.length;h++)F[h]==objrtflight.AirlineCode&&(w=!0);if("0"==$("#RSFType").val()){rsfval=0;var k=discount+discountret;k>0?(S&&(k=Math.round(k-(objowflight.FareDetail.TotalAdultST+objowflight.FareDetail.TotalChildST+objowflight.FareDetail.TotalInfantST))),w&&(k=Math.round(k-(objrtflight.FareDetail.TotalAdultST+objrtflight.FareDetail.TotalChildST+objrtflight.FareDetail.TotalInfantST))),S&&w?($("#totaldiscmsg").addClass("tlds-head1"),$("#totaldiscmsg").html("Save Rs. `"+k+" on Booking!!!")):($("#totaldiscmsg").addClass("tlds-head"),$("#totaldiscmsg").html("Total Dis `"+k))):($("#totaldiscmsg").removeClass("tlds-head"),$("#totaldiscmsg").html(" ")),onwardselected=normalselectedsrno,returnselected=normalreturnselectedsrno,$("#onwardSrno").val(onwardselected),$("#returnSrno").val(normalreturnselectedsrno),owprice=objowflight.NetFare,rtprice=returncached[t].NetFare}if(current_num=input_num,"1"==$("#RSFType").val()&&S&&w){var x=objowflight.FareDetail.AdultGross+objowflight.FareDetail.ChildGross+objowflight.FareDetail.InfantGross-(objowflight.FareDetail.TotalAdultST+objowflight.FareDetail.TotalChildST+objowflight.FareDetail.TotalInfantST),O=returncached[t].FareDetail.AdultGross+returncached[t].FareDetail.ChildGross+returncached[t].FareDetail.InfantGross-(returncached[t].FareDetail.TotalAdultST+returncached[t].FareDetail.TotalChildST+returncached[t].FareDetail.TotalInfantST);owprice+rtprice>x+O&&(owprice=Math.round(objowflight.FareDetail.AdultGross+objowflight.FareDetail.ChildGross+objowflight.FareDetail.InfantGross-(objowflight.FareDetail.TotalAdultST+objowflight.FareDetail.TotalChildST+objowflight.FareDetail.TotalInfantST)),rtprice=Math.round(returncached[t].FareDetail.AdultGross+returncached[t].FareDetail.ChildGross+returncached[t].FareDetail.InfantGross-(returncached[t].FareDetail.TotalAdultST+returncached[t].FareDetail.TotalChildST+returncached[t].FareDetail.TotalInfantST))),input_num=parseInt((parseFloat(owprice)+parseFloat(rtprice)).toFixed())}else S&&(owprice=Math.round(objowflight.FareDetail.AdultGross+objowflight.FareDetail.ChildGross+objowflight.FareDetail.InfantGross-(objowflight.FareDetail.TotalAdultST+objowflight.FareDetail.TotalChildST+objowflight.FareDetail.TotalInfantST))),w&&(rtprice=Math.round(returncached[t].FareDetail.AdultGross+returncached[t].FareDetail.ChildGross+returncached[t].FareDetail.InfantGross-(returncached[t].FareDetail.TotalAdultST+returncached[t].FareDetail.TotalChildST+returncached[t].FareDetail.TotalInfantST))),input_num=parseInt((parseFloat(owprice)+parseFloat(rtprice)).toFixed());if(running_numbers(),parseInt((parseFloat(owprice)+parseFloat(rtprice)).toFixed())==objowflight.GrossFare+returncached[t].GrossFare||S||w?($("#gtotalamt").prev().text(""),$("#gtotalamt").html("")):($("#gtotalamt").html(objowflight.GrossFare+returncached[t].GrossFare),$("#gtotalamt").prev().text("`")),0!=returnselected&&0!=onwardselected){for(i=0;i<RSFonwardcached.length;i++){for(var o="",s="",m=0;m<RSFonwardcached[i].SectorDetails.length;m++)s+=RSFonwardcached[i].SectorDetails[m].AirlineCode+RSFonwardcached[i].SectorDetails[m].FlightNo;for(v=0;v<objowflight.SectorDetails.length;v++)o+=objowflight.SectorDetails[v].AirlineCode+objowflight.SectorDetails[v].FlightNo;if(s==o&&RSFonwardcached[i].ChannelCode==objowflight.ChannelCode&&-1!=(","+objowflight.RSFReturnFlights+",").indexOf(","+f.SrNo+",")&&objowflight.ChannelCode==f.ChannelCode&&RSFonwardcached[i].ReturnIdentifier==objowflight.ReturnIdentifier&&0!=rsfval){$("#RSFType").val("1"),onwardselected=RSFonwardcached[i].SectID,$("#onwardSrno").val(RSFonwardcached[i].SectID);break}}$("#btnContinue").css("display","")}flagRT=!0}1==flagOW&&1==flagRT&&$(".botm-dis-main").stop(!0,!1).animate({bottom:"0px"},600,"easeOutCubic")}function getpricingResult(e){var t=null,i=null;$("#btmBookNw").removeClass("make-bton"),$("#btmBookNw").addClass("process"),isCabinchngInformed&&$.blockUI({message:"<div></div>",css:{width:"0px",border:"none",padding:"0px",backgroundColor:"none","text-align":"left"}}),"1"!=$("#RSFType").val()?rsffaretype="N":rsffaretype="R",Trackerlog(onwno,"o",e),trackerid=1,Trackerlog(retno,"r",e);var r=$("#onwardSrno").val(),a=$("#returnSrno").val(),t=null,i=null,l="",o="";"1"!=$("#RSFType").val()?(t=$.grep(onwardcached,function(e){return e.SectID==r}),i=$.grep(returncached,function(e){return e.SectID==a}),l=t[0].NetFare+i[0].NetFare):(t=$.grep(RSFonwardcached,function(e){return e.SectID==r}),i=$.grep(RSFreturncached,function(e){return e.SectID==a}),l=t[0].NetFare+i[0].NetFare);var s=!1;if(!isCabinchngInformed){var n="";cabinchngsec="",cabinchngcls="",selFLT=e;var c=0,d=0,p=$("#hdntravelcls").val();if("F"==p?d=1:"B"==p?d=2:"PE"==p?d=3:"E"==p&&(d=4),t[0].SectorDetails.length>0){for(h=0;h<t[0].SectorDetails.length;h++)t[0].SectorDetails[h].CabinClass!=$("#hdntravelcls").val()&&("F"==t[0].SectorDetails[h].CabinClass?(n="First",c=1):"B"==t[0].SectorDetails[h].CabinClass?(n="Business",c=2):"PE"==t[0].SectorDetails[h].CabinClass?(n="Premium Economy",c=3):"E"==t[0].SectorDetails[h].CabinClass&&(n="Economy",c=4),c>d&&(s=!0,""!=cabinchngsec?(cabinchngsec+=","+t[0].SectorDetails[h].DepartureAirportCode+"-"+t[0].SectorDetails[h].ArrivalAirportCode,cabinchngcls!=n&&(cabinchngcls+=","+n)):(cabinchngsec=t[0].SectorDetails[h].DepartureAirportCode+"-"+t[0].SectorDetails[h].ArrivalAirportCode,cabinchngcls=n)));if(i[0].SectorDetails.length>0)for(var h=0;h<i[0].SectorDetails.length;h++)i[0].SectorDetails[h].CabinClass!=$("#hdntravelcls").val()&&("F"==i[0].SectorDetails[h].CabinClass?(n="First",c=1):"B"==i[0].SectorDetails[h].CabinClass?(n="Business",c=2):"PE"==i[0].SectorDetails[h].CabinClass?(n="Premium Economy",c=3):"E"==i[0].SectorDetails[h].CabinClass&&(n="Economy",c=4),c>d&&(s=!0,""!=cabinchngsec?(cabinchngsec+=","+i[0].SectorDetails[h].DepartureAirportCode+"-"+i[0].SectorDetails[h].ArrivalAirportCode,cabinchngcls!=n&&(cabinchngcls+=","+n)):(cabinchngsec=i[0].SectorDetails[h].DepartureAirportCode+"-"+i[0].SectorDetails[h].ArrivalAirportCode,cabinchngcls=n)));s&&ShowCabinChngPopUp()}}if(s||(isCabinchngInformed=!0),isCabinchngInformed&&(selFLT="",!isAlreadyInformed&&($("#From").val().substring($("#From").val().indexOf("[")+1,$("#From").val().indexOf("]"))!=t[0].DepartureAirportCode||$("#To").val().substring($("#To").val().indexOf("[")+1,$("#To").val().indexOf("]"))!=t[0].ArrivalAirportCode||$("#To").val().substring($("#To").val().indexOf("[")+1,$("#To").val().indexOf("]"))!=i[0].DepartureAirportCode||$("#From").val().substring($("#From").val().indexOf("[")+1,$("#From").val().indexOf("]"))!=i[0].ArrivalAirportCode)))return selFLT=e,void($("#From").val().substring($("#From").val().indexOf("[")+1,$("#From").val().indexOf("]"))!=t[0].DepartureAirportCode||$("#To").val().substring($("#To").val().indexOf("[")+1,$("#To").val().indexOf("]"))!=t[0].ArrivalAirportCode?(DiffSecSelectPopUpDomRT(t[0].DepartureAirportCode,t[0].ArrivalAirportCode,"onw"),$("#btmBookNw").removeClass("process"),$("#btmBookNw").addClass("make-bton"),$.unblockUI()):$("#To").val().substring($("#To").val().indexOf("[")+1,$("#To").val().indexOf("]"))==i[0].DepartureAirportCode&&$("#From").val().substring($("#From").val().indexOf("[")+1,$("#From").val().indexOf("]"))==i[0].ArrivalAirportCode||(DiffSecSelectPopUpDomRT(i[0].DepartureAirportCode,i[0].ArrivalAirportCode,"ret"),$("#btmBookNw").removeClass("process"),$("#btmBookNw").addClass("make-bton"),$.unblockUI()));t[0].DepartureAirportCode,t[0].ArrivalAirportCode;for(var g="Onward **",v="Onward **",f=0;f<t[0].SectorDetails.length;f++)g=g+"|"+t[0].SectorDetails[f].DepartureAirportCode+"-"+t[0].SectorDetails[f].ArrivalAirportCode,v=v+","+t[0].SectorDetails[f].FlightNo;g+=" | Return **",v+=" | Return **";for(f=0;f<i[0].SectorDetails.length;f++)g=g+"|"+i[0].SectorDetails[f].DepartureAirportCode+"-"+i[0].SectorDetails[f].ArrivalAirportCode,v=v+","+i[0].SectorDetails[f].FlightNo;o=t[0].ChannelCode+","+i[0].ChannelCode;t[0].AdultCount,t[0].ChildCount,t[0].InfantCount,t[0].ChannelCode,t[0].AirlineCode,t[0].SectorDetails[0].DepartureTime,i[0].SectorDetails[0].DepartureTime;var u="Refundable"==t[0].FareType?"R":"N",m="Refundable"==i[0].FareType?"R":"N";if("True"==$("#hdnEnableTracking").val())try{TLWrapper.Segment.pushToSegmentArray(t[0].SectorDetails[0].DepartureAirportCode,t[0].SectorDetails[0].DepartureAirportName,t[0].SectorDetails[0].DepartureDateTime.split("T")[0],t[0].SectorDetails[0].DepartureDateTime.split("T")[1],t[0].SectorDetails[t[0].SectorDetails.length-1].ArrivalAirportCode,t[0].SectorDetails[t[0].SectorDetails.length-1].ArrivalAirportName,t[0].SectorDetails[t[0].SectorDetails.length-1].ArrivalDateTime.split("T")[0],t[0].SectorDetails[t[0].SectorDetails.length-1].ArrivalDateTime.split("T")[1],"O",t[0].SectorDetails.length-1,t[0].SectorType.toUpperCase(),t[0].SectorDetails[0].AirlineName,t[0].SectorDetails[0].FlightNo,u),TLWrapper.Segment.pushToSegmentArray(i[0].SectorDetails[0].DepartureAirportCode,i[0].SectorDetails[0].DepartureAirportName,i[0].SectorDetails[0].DepartureDateTime.split("T")[0],i[0].SectorDetails[0].DepartureDateTime.split("T")[1],i[0].SectorDetails[i[0].SectorDetails.length-1].ArrivalAirportCode,i[0].SectorDetails[i[0].SectorDetails.length-1].ArrivalAirportName,i[0].SectorDetails[i[0].SectorDetails.length-1].ArrivalDateTime.split("T")[0],i[0].SectorDetails[i[0].SectorDetails.length-1].ArrivalDateTime.split("T")[1],"R",i[0].SectorDetails.length-1,i[0].SectorType.toUpperCase(),i[0].SectorDetails[0].AirlineName,i[0].SectorDetails[0].FlightNo,m);var F=TLWrapper.Segment.getFinalSegmentArray();TLWrapper.Segment.resetSegmentArray(),TLWrapper.Events.clickedbook(F,"RoundTrip",$("#hdntravltype").val(),t[0].AdultCount,t[0].ChildCount,t[0].InfantCount)}catch(e){}if(flightsel1=t,flightselrtn1=i,"true"==$("#hdnEnableFBPixel").val().toLowerCase()&&fbq("track","Flight Selected",{OnwardFlight:t[0].ChannelCode,Return:i[0].ChannelCode}),isCabinchngInformed){var S={SectorType:$("#SectorType").val(),SearchType:$("#SearchType").val(),onwardSrno:$("#onwardSrno").val()+",",returnSrno:$("#returnSrno").val(),TravelType:$("#travelType").val(),RSFType:$("#RSFType").val(),Key:$("#Key").val(),ChannelCode:o,OwdSectId:t[0].SectID,RetSectId:i[0].SectID};$.ajax({url:"/Flight/GetPricingResult/"+$("#Key").val(),data:S,cache:!1,dataType:"json",success:function(e){"Sessiontimeout"==e&&(window.location="/Utility/SessionTimeout"),0==e.TransStatus?(prcsuccess=!0,CabinChangeAfterPricing(e),(e.SearchReponse.IsOnwardDptTimeChanged||e.SearchReponse.IsOnwardArrTimeChanged||e.SearchReponse.IsReturnDptTimeChanged||e.SearchReponse.IsReturnArrTimeChanged)&&(timechangepop=!0),e.SearchReponse.IsAmountChanged?($.unblockUI(),conTimeDomRTChkFlg=!1,showPriceChange(e,cabinclschangepopPRC,e.SearchReponse.IsAmountChanged)):(cabinclschangepopPRC&&!timechangepop&&($.unblockUI(),ShowCabinChngPopupOnly()),cabinclschangepopPRC&&timechangepop&&showPriceChange(e,cabinclschangepopPRC,!1),!cabinclschangepopPRC&&timechangepop&&showPriceChange(e,!1,!1),isCabinchngInformed||timechangepop||(prcsuccess=!1,conTimeDomRTChkFlg=!1,$.unblockUI(),document.forms.pricingform.submit()))):(conTimeDomRTChkFlg=!1,PricingFailed(e),$.unblockUI(),$("#btmBookNw").removeClass("process"),$("#btmBookNw").addClass("make-bton"))}})}}function ShowCabinChngPopUp(){CabinChngPopUp("ConfirmCabinclsPopup(true)","ConfirmCabinclsPopup(false)")}function CabinChngPopUp(e,t){var i="";i+='<div class="msg-pop-row-in">',i+="You have searched for travel class "+$("#hdntravltype").val()+". ",cabinchngsec.split(",").length>1?i+="There is Travel Class change in the Journeys "+cabinchngsec:i+="There is Travel Class change in the Journey "+cabinchngsec,cabinchngcls.split(",").length>1?i+=" and the new travel class is "+cabinchngcls+" respectively":i+=" and the new travel class is "+cabinchngcls,i+=". Please recheck the fare rule before proceeding .Do you wish to continue without checking the fare rule ?",i+='<div class="clear"></div>',i+='<div class ="msgbtn-row-new">',i+='<div class="msgbtn-row-left"><div class="bookbt" onclick="'+e+'"><a >Proceed</a></div> </div>',i+='<div class="msgbtn-row-right"><div class="bookbt" onclick="'+t+'"><a >Cancel</a></div></div>',i+="</div>",i+="</div>",$("#divCabinChngPopup").html(i),$("#divCabinChngPopup").css({display:"block"}),$("#divCabinChngPopup").dialog({modal:!0,width:462,title:"Message"}),$("#divCabinChngPopup").dialog("open")}function ConfirmCabinclsPopup(e){1==e?(isCabinchngInformed=!0,$("#divCabinChngPopup").dialog("close"),prcsuccess?(prcsuccess=!1,conTimeDomRTChkFlg=!1,$.unblockUI(),document.forms.pricingform.submit()):getpricingResult(selFLT)):($(".cmn-pop-close").trigger("click"),$("#divCabinChngPopup").dialog("close"),isCabinchngInformed=!1,isSelected=!1,selFLT="",prcsuccess=!1)}function CabinChangeAfterPricing(e){cabinclschangepopPRC=!1;var t="";if(cabinchngsecprc="",cabinchngclsprc="",!(isCabinchngInformed=!1)){var i=0,r=0,a=$("#hdntravelcls").val();if("F"==a?r=1:"B"==a?r=2:"PE"==a?r=3:"E"==a&&(r=4),e.SearchReponse.OnwardFlight[0].Sectors.length>0){for(l=0;l<e.SearchReponse.OnwardFlight[0].Sectors.length;l++)e.SearchReponse.OnwardFlight[0].Sectors[l].CabinClass!=$("#hdntravelcls").val()&&("F"==e.SearchReponse.OnwardFlight[0].Sectors[l].CabinClass?(t="First",i=1):"B"==e.SearchReponse.OnwardFlight[0].Sectors[l].CabinClass?(t="Business",i=2):"PE"==e.SearchReponse.OnwardFlight[0].Sectors[l].CabinClass?(t="Premium Economy",i=3):"E"==e.SearchReponse.OnwardFlight[0].Sectors[l].CabinClass&&(t="Economy",i=4),i>r&&(cabinclschangepopPRC=!0,""!=cabinchngsecprc?(cabinchngsecprc+=","+e.SearchReponse.OnwardFlight[0].Sectors[l].DepartureAirportCode+"-"+e.SearchReponse.OnwardFlight[0].Sectors[l].ArrivalAirportCode,cabinchngclsprc!=t&&(cabinchngclsprc+=","+t)):(cabinchngsecprc=e.SearchReponse.OnwardFlight[0].Sectors[l].DepartureAirportCode+"-"+e.SearchReponse.OnwardFlight[0].Sectors[l].ArrivalAirportCode,cabinchngclsprc=t)));if(e.SearchReponse.ReturnFlight.Sectors.length>0)for(var l=0;l<e.SearchReponse.ReturnFlight.Sectors.length;l++)e.SearchReponse.ReturnFlight.Sectors[l].CabinClass!=$("#hdntravelcls").val()&&("F"==e.SearchReponse.ReturnFlight.Sectors[l].CabinClass?(t="First",i=1):"B"==e.SearchReponse.ReturnFlight.Sectors[l].CabinClass?(t="Business",i=2):"PE"==e.SearchReponse.ReturnFlight.Sectors[l].CabinClass?(t="Premium Economy",i=3):"E"==e.SearchReponse.ReturnFlight.Sectors[l].CabinClass&&(t="Economy",i=4),i>r&&(cabinclschangepopPRC=!0,""!=cabinchngsecprc?(cabinchngsecprc+=","+e.SearchReponse.ReturnFlight.Sectors[l].DepartureAirportCode+"-"+e.SearchReponse.ReturnFlight.Sectors[l].ArrivalAirportCode,cabinchngclsprc!=t&&(cabinchngclsprc+=","+t)):(cabinchngsecprc=e.SearchReponse.ReturnFlight.Sectors[l].DepartureAirportCode+"-"+e.SearchReponse.ReturnFlight.Sectors[l].ArrivalAirportCode,cabinchngclsprc=t)));""!=cabinchngcls&&(cabinclschangepopPRC=""!=cabinchngclsprc&&(cabinchngcls!=cabinchngclsprc||cabinchngsec!=cabinchngsecprc))}}}function ShowCabinChngPopupOnly(){cabinclschangepopPRC&&(isCabinchngInformed=!0,cabinchngcls=cabinchngclsprc,cabinchngsec=cabinchngsecprc,ShowCabinChngPopUp())}function CheckDomRTConnectionTime(e,t){if(null!=onwardcached&&null!=returncached||null!=RSFonwardcached&&null!=RSFreturncached){var i="",r=null,a=null;if("1"!=$("#RSFType").val()?(r=$.grep(onwardcached,function(t){return t.SrNo==e}),a=$.grep(returncached,function(e){return e.SrNo==t})):(r=$.grep(RSFonwardcached,function(t){return t.SrNo==e}),a=$.grep(RSFreturncached,function(e){return e.SrNo==t})),null!=r&&r.length>0&&null!=r[0].SectorDetails&&r[0].SectorDetails.length>0)for(l=0;l<r[0].SectorDetails.length;l++){if(null!=r[0].SectorDetails[l].HoppingDetails&&r[0].SectorDetails[l].HoppingDetails.length>0&&null!=r[0].SectorDetails[l].HoppingDetails[0].ArrivalDateTime&&""!=r[0].SectorDetails[l].HoppingDetails[0].ArrivalDateTime){o=calcTimeDiff(r[0].SectorDetails[l].HoppingDetails[0].ArrivalDateTime,r[0].SectorDetails[l].HoppingDetails[r[0].SectorDetails[l].HoppingDetails.length-1].DepartureDateTime);(parseInt(o.split(".")[0],10)<1&&parseInt(o.split(".")[1],10)<60||1==parseInt(o.split(".")[0],10)&&0==parseInt(o.split(".")[1],10))&&(i+=o+" in the sector "+r[0].SectorDetails[l].HoppingDetails[0].ArrivalCity.split("-")[0]+" and ")}if(l+1!=r[0].SectorDetails.length){s=calcTimeDiff(r[0].SectorDetails[l].ArrivalDateTime,r[0].SectorDetails[l+1].DepartureDateTime);(parseInt(s.split(".")[0],10)<1&&parseInt(s.split(".")[1],10)<60||1==parseInt(s.split(".")[0],10)&&0==parseInt(s.split(".")[1],10))&&(i+=s+" in the sector "+r[0].SectorDetails[l].ArrivalCity+" and ")}}if(null!=a&&null!=a[0].SectorDetails&&a[0].SectorDetails.length>0)for(var l=0;l<a[0].SectorDetails.length;l++){if(null!=a[0].SectorDetails[l].HoppingDetails&&a[0].SectorDetails[l].HoppingDetails.length>0&&null!=a[0].SectorDetails[l].HoppingDetails[0].ArrivalDateTime&&""!=a[0].SectorDetails[l].HoppingDetails[0].ArrivalDateTime){var o=calcTimeDiff(a[0].SectorDetails[l].HoppingDetails[0].ArrivalDateTime,a[0].SectorDetails[l].HoppingDetails[a[0].SectorDetails[l].HoppingDetails.length-1].DepartureDateTime);(parseInt(o.split(".")[0],10)<1&&parseInt(o.split(".")[1],10)<60||1==parseInt(o.split(".")[0],10)&&0==parseInt(o.split(".")[1],10))&&(i+=o+" in the sector "+a[0].SectorDetails[l].HoppingDetails[0].ArrivalCity.split("-")[0]+" and ")}if(l+1!=a[0].SectorDetails.length){var s=calcTimeDiff(a[0].SectorDetails[l].ArrivalDateTime,a[0].SectorDetails[l+1].DepartureDateTime);(parseInt(s.split(".")[0],10)<1&&parseInt(s.split(".")[1],10)<60||1==parseInt(s.split(".")[0],10)&&0==parseInt(s.split(".")[1],10))&&(i+=s+" in the sector "+a[0].SectorDetails[l].ArrivalCity+" and ")}}if(""!=i&&-1!=i.indexOf(" and "))return i=i.substring(0,i.length-5),ShowDomRTConnectionTimeConfirmPopUp(i),!1}conTimeDomRTChkFlg=!0}function calcTimeDiff(e,t){var i,r,a,l=0,o=0;l=e.split("T")[1],o=t.split("T")[1],l=60*(r=parseInt(l.split(":")[0],10))*60+60*(a=parseInt(l.split(":")[1],10)),o=60*(r=parseInt(o.split(":")[0],10))*60+60*(a=parseInt(o.split(":")[1],10));var s=t.split("T")[0];s.indexOf("/")<0&&(s=s.split("-")[0]+"/"+s.split("-")[1]+"/"+s.split("-")[2]);var n=new Date(s);(s=e.split("T")[0]).indexOf("/")<0&&(s=s.split("-")[0]+"/"+s.split("-")[1]+"/"+s.split("-")[2]);var c=new Date(s),d=parseInt((n.getTime()-c.getTime())/864e5);return o>l?i=o-l:(i=86400-l+o,d-=1),r=Math.floor(parseInt(i,10)/3600)+24*d,a=i%3600/60,a+="",r<=9&&(r="0"+r),1==a.length&&(a="0"+a),i=r+"."+a}function ShowDomRTConnectionTimeConfirmPopUp(e){var t="";t+="<div class='msg-pop-row-in'>",t+="The selected Flight is having connection time of "+e+". Would you like to proceed with the booking ?",t+="<div class='clear'></div>",t+="<div class ='msgbtn-row-new'>",t+="<div class='msgbtn-row-left'><div class='bookbt' onclick='DomRTConnctnTimeComfimationPopup(\"OK\")'><a >OK</a></div> </div>",t+="<div class='msgbtn-row-right'><div class='bookbt' onclick='DomRTConnctnTimeComfimationPopup(\"CANCEL\")'><a >Cancel</a></div></div>",t+="</div>",t+="</div>",$("#divTimePrmptMsg").html(t),$("#divTimePrmptMsg").css("display","block"),$("#divTimePrmptMsg").dialog({modal:!0,width:462,title:"Connection Time"}),$("#divTimePrmptMsg").dialog("open")}function DomRTConnctnTimeComfimationPopup(e){"OK"==e?(conTimeDomRTChkFlg=!0,$("#divTimePrmptMsg").dialog("close"),getpricingResult()):(conTimeDomRTChkFlg=!1,isSelected=!1,$("#divTimePrmptMsg").dialog("close"),isCabinchngInformed=!1,selFLT="",prcsuccess=!1)}function showPriceChange(e,t,i){isCloseButtonPressed=!0,$dialog=$("#pricechange");var r="",a="",l="",o="<div class='popup-outer flt-lft'>",s=parseInt(e.SearchReponse.OldAmount,10)<parseInt(e.SearchReponse.NewAmount,10);if(i){l="Fare Change","CABIN"!=e.cabnfarechangecode?s?(r="We regret on a change in the Fare for the Flight you have selected. You may proceed with the new fare or Return to the Results page and select a different Flight",r+="</br><div class='prc-chng'><b>Why do prices change?</b></br>-Price can change due to dynamic nature of airline prices.</br>-Seats may no longer be available in the same category.</br>-We assure you that new prices are best available price for this flight.</div>","306",a="468"):r="We are pleased to inform you that the selected flight is available on a lower fare. Kindly accept to continue with the new fare...":r="We regret that the selected Business Class Fare is not currently available.Would you like to proceed with an Economy Class Fare?",o="<div class='popup-outer flt-lft'>",o=(o+="<div class='pp-cntnr flt-lft'>")+"<div class='fre-pp-cntnt flt-lft'>"+r+"</div>",o+="<div class='pp-cntnt flt-lft'>";for(var n=$("#hdnAvailabilityDiscountsDom").val().split(","),c=!1,d=!1,p=0;p<n.length;p++)n[p]==flightsel1[0].AirlineCode&&(c=!0),n[p]==flightselrtn1[0].AirlineCode&&(d=!0);if(c||d){var h=e.SearchReponse.OldAmount,g=e.SearchReponse.NewAmount;1==c&&1==d?(h=Math.round(flightsel1[0].FareDetail.AdultGross+flightsel1[0].FareDetail.ChildGross+flightsel1[0].FareDetail.InfantGross+flightselrtn1[0].FareDetail.AdultGross+flightselrtn1[0].FareDetail.ChildGross+flightselrtn1[0].FareDetail.InfantGross-(flightsel1[0].FareDetail.TotalAdultST+flightsel1[0].FareDetail.TotalChildST+flightsel1[0].FareDetail.TotalInfantST+flightselrtn1[0].FareDetail.TotalAdultST+flightselrtn1[0].FareDetail.TotalChildST+flightselrtn1[0].FareDetail.TotalInfantST)),g=Math.round(e.SearchReponse.OnwardFlight[0].Fare.AdultGrossFare+e.SearchReponse.OnwardFlight[0].Fare.ChildGrossFare+e.SearchReponse.OnwardFlight[0].Fare.InfantGrossFare+e.SearchReponse.ReturnFlight.Fare.AdultGrossFare+e.SearchReponse.ReturnFlight.Fare.ChildGrossFare+e.SearchReponse.ReturnFlight.Fare.InfantGrossFare-(e.SearchReponse.OnwardFlight[0].Fare.TotalAdultServiceTax+e.SearchReponse.OnwardFlight[0].Fare.TotalChildServiceTax+e.SearchReponse.OnwardFlight[0].Fare.TotalInfantServiceTax+e.SearchReponse.ReturnFlight.Fare.TotalAdultServiceTax+e.SearchReponse.ReturnFlight.Fare.TotalChildServiceTax+e.SearchReponse.ReturnFlight.Fare.TotalInfantServiceTax))):c?(h=Math.round(flightsel1[0].FareDetail.AdultGross+flightsel1[0].FareDetail.ChildGross+flightsel1[0].FareDetail.InfantGross-(flightsel1[0].FareDetail.TotalAdultST+flightsel1[0].FareDetail.TotalChildST+flightsel1[0].FareDetail.TotalInfantST)+flightselrtn1[0].NetFare),g=Math.round(e.SearchReponse.OnwardFlight[0].Fare.AdultGrossFare+e.SearchReponse.OnwardFlight[0].Fare.ChildGrossFare+e.SearchReponse.OnwardFlight[0].Fare.InfantGrossFare-(e.SearchReponse.OnwardFlight[0].Fare.TotalAdultServiceTax+e.SearchReponse.OnwardFlight[0].Fare.TotalChildServiceTax+e.SearchReponse.OnwardFlight[0].Fare.TotalInfantServiceTax)+e.SearchReponse.ReturnFlight.NetFare)):d&&(h=Math.round(flightsel1[0].NetFare+(flightselrtn1[0].FareDetail.AdultGross+flightselrtn1[0].FareDetail.ChildGross+flightselrtn1[0].FareDetail.InfantGross)-(flightselrtn1[0].FareDetail.TotalAdultST+flightselrtn1[0].FareDetail.TotalChildST+flightselrtn1[0].FareDetail.TotalInfantST)),g=Math.round(e.SearchReponse.OnwardFlight[0].NetFare+(e.SearchReponse.ReturnFlight.Fare.AdultGrossFare+e.SearchReponse.ReturnFlight.Fare.ChildGrossFare+e.SearchReponse.ReturnFlight.Fare.InfantGrossFare)-(e.SearchReponse.ReturnFlight.Fare.TotalAdultServiceTax+e.SearchReponse.ReturnFlight.Fare.TotalChildServiceTax+e.SearchReponse.ReturnFlight.Fare.TotalInfantServiceTax))),o=(o=o+"<div class='fr-chng-prv flt-lft'><div class='prv-hd'>Previous Fare</div><div class='prv-cntnt'>INR "+parseInt(h,10)+"</div></div>")+"<div class='fr-chng-new flt-lft'><div class='prv-hd'>New Fare</div><div class='prv-cntnt'>INR "+parseInt(g,10)+"</div></div>"}else o=(o=o+"<div class='fr-chng-prv flt-lft'><div class='prv-hd'>Previous Fare</div><div class='prv-cntnt'>INR "+parseInt(e.SearchReponse.OldAmount,10)+"</div></div>")+"<div class='fr-chng-new flt-lft'><div class='prv-hd'>New Fare</div><div class='prv-cntnt'>INR "+parseInt(e.SearchReponse.NewAmount,10)+"</div></div>";o+="</div>"}o+="<div class='pp-cntnt flt-lft'>",t&&(l=""==l?"Cabin Change":l+"/ Cabin Change",o=(o+='<div class="msg-pop-row-in-lft">')+"You have searched for travel class "+$("#hdntravltype").val()+". ",o=cabinchngsec.split(",").length>1?o+"There is Travel Class change in the Journeys "+cabinchngsec:o+"There is Travel Class change in the Journey "+cabinchngsec,o=cabinchngcls.split(",").length>1?o+" and the new travel class is "+cabinchngcls+" respectively":o+" and the new travel class is "+cabinchngcls,o+=". Please recheck the fare rule before proceeding .Do you wish to continue without checking the fare rule ?",o+='<div class="clear"></div></div>',isCabinchngInformed=!0,cabinchngcls=cabinchngclsprc,cabinchngsec=cabinchngsecprc),timechangepop&&(l=""==l?"Time Change":l+"/ Time Change",o+=TimeChangePopupAppend(e)),o+="<div class='pp-accept flt-lft'><div class='pp-accept-btn flt-lft'><a class='rednormalbtn' href='#' onclick='closewindow()'><span>I Accept</span></a></div></div>",o+="<div class='fr-chng-new flt-lft'><div class='pp-bak-rslt flt-lft'><a class='rednormalbtn' href='#' onclick='backtosearch()'><span>Back to results</span></a></div></div>",o+="</div></div></div>",$dialog.html(o),s?$dialog.dialog({modal:!0,title:l,width:a,resizable:!1,close:function(e,t){1==isCloseButtonPressed&&backtosearch()}}):$dialog.dialog({modal:!0,title:l,width:475,resizable:!1,close:function(e,t){1==isCloseButtonPressed&&backtosearch()}})}function TimeChangePopupAppend(e){var t="";if(e.SearchReponse.IsOnwardDptTimeChanged||e.SearchReponse.IsOnwardArrTimeChanged||e.SearchReponse.IsReturnDptTimeChanged||e.SearchReponse.IsReturnArrTimeChanged){t+="<div class='fre-pp-cntnt flt-lft'>Please be informed that there is change in selected flight Departure/Arrival time. Please see the new Departure and Arrival time as given below. Please accept to proceed with the new Arrival/Departure time</div>",t+="<div class='pp-cntnt flt-lft'>"}if(e.SearchReponse.IsOnwardDptTimeChanged){i=e.SearchReponse.OldOnwardDepartureDateTime.split("T");t=(r=e.SearchReponse.NewOnwardDepartureDateTime.split("T"))[0].trim()==i[0].trim()?(t=t+"<div class='far-chg-prv-left'><div class='prv-hd'>Old Departure Time</div><div class='prv-cntnt'>"+i[1].substring(0,5)+"</div></div>")+"<div class='far-chg-prv-right'><div class='prv-hd'>New Departure Time</div><div class='prv-cntnt'>"+r[1].substring(0,5)+"</div></div>":(t=t+"<div class='far-chg-prv-left'><div class='prv-hd'>Old Departure Time</div><div class='prv-cntnt'>"+i[0]+","+i[1].substring(0,5)+"</div></div>")+"<div class='far-chg-prv-right'><div class='prv-hd'>New Departure Time</div><div class='prv-cntnt'>"+r[0]+","+r[1].substring(0,5)+"</div></div>",t+="</div>"}if(e.SearchReponse.IsOnwardArrTimeChanged){i=e.SearchReponse.OldOnwardArrivalDateTime.split("T");t=(r=e.SearchReponse.NewOnwardArrivalDateTime.split("T"))[0].trim()==i[0].trim()?(t=t+"<div class='far-chg-prv-left'><div class='prv-hd'>Old Arrival Time</div><div class='prv-cntnt'>"+i[1].substring(0,5)+"</div></div>")+"<div class='far-chg-prv-right'><div class='prv-hd'>New Arrival Time</div><div class='prv-cntnt'>"+r[1].substring(0,5)+"</div></div>":(t=t+"<div class='far-chg-prv-left'><div class='prv-hd'>Old Arrival Time</div><div class='prv-cntnt'>"+i[0]+","+i[1].substring(0,5)+"</div></div>")+"<div class='far-chg-prv-right'><div class='prv-hd'>New Arrival Time</div><div class='prv-cntnt'>"+r[0]+","+r[1].substring(0,5)+"</div></div>",t+="</div>"}if(e.SearchReponse.IsReturnDptTimeChanged){i=e.SearchReponse.OldReturnDepartureDateTime.split("T");t=(r=e.SearchReponse.NewReturnDepartureDateTime.split("T"))[0].trim()==i[0].trim()?(t=t+"<div class='far-chg-prv-left'><div class='prv-hd'>Old Departure Time</div><div class='prv-cntnt'>"+i[1].substring(0,5)+"</div></div>")+"<div class='far-chg-prv-right'><div class='prv-hd'>New Departure Time</div><div class='prv-cntnt'>"+r[1].substring(0,5)+"</div></div>":(t=t+"<div class='far-chg-prv-left'><div class='prv-hd'>Old Departure Time</div><div class='prv-cntnt'>"+i[0]+","+i[1].substring(0,5)+"</div></div>")+"<div class='far-chg-prv-right'><div class='prv-hd'>New Departure Time</div><div class='prv-cntnt'>"+r[0]+","+r[1].substring(0,5)+"</div></div>",t+="</div>"}if(e.SearchReponse.IsReturnArrTimeChanged){var i=e.SearchReponse.OldReturnArrivalDateTime.split("T"),r=e.SearchReponse.NewReturnArrivalDateTime.split("T");t=r[0].trim()==i[0].trim()?(t=t+"<div class='far-chg-prv-left'><div class='prv-hd'>Old Arrival Time</div><div class='prv-cntnt'>"+i[1].substring(0,5)+"</div></div>")+"<div class='far-chg-prv-right'><div class='prv-hd'>New Arrival Time</div><div class='prv-cntnt'>"+r[1].substring(0,5)+"</div></div>":(t=t+"<div class='far-chg-prv-left'><div class='prv-hd'>Old Arrival Time</div><div class='prv-cntnt'>"+i[0]+","+i[1].substring(0,5)+"</div></div>")+"<div class='far-chg-prv-right'><div class='prv-hd'>New Arrival Time</div><div class='prv-cntnt'>"+r[0]+","+r[1].substring(0,5)+"</div></div>",t+="</div>"}return t}function closewindow(){isCloseButtonPressed=!1,$dialog=$("#pricechange"),$dialog.dialog("close"),document.forms.pricingform.submit(),$("#logindet").css("display","block")}function backtosearch(){$dialog.dialog("close"),window.location="/flight/search/"+$("#Key").val()}function showAll(e){clearFilter("faretype","b"),clearFilter("farescale",e),clearFilter("time",e),clearFilter("airline","b"),clearFilter("stop","b"),clearFilter("layover",e),clearFilter("arrivaltime",e),clearFilter("departureairportname",e),clearFilter("arrivalairportname",e),clearFilter("conairportname",e),ApplyFilter(onwardcached,"o"),ApplyFilter(returncached,"r"),"o"==e?display(onwardcached,"owdisplay",!1,"o"):display(returncached,"rtdisplay",!1,"r"),ApplyRSF()}function clearFilter(e,t){switch(e){case"faretype":FillObject("fareType","o"),$("#chkRefund").attr("checked","checked"),$("#chkNoRefund").attr("checked","checked");break;case"farescale":"r"!=t&&(FillObject("farescale","o"),$("#slider-rangeo").slider("option",{min:FilterArray.Farescale[0].OrginalMin,max:FilterArray.Farescale[0].OriginalMaxFAre}),$("#slider-rangeo").slider("values",0,FilterArray.Farescale[0].OrginalMin),$("#slider-rangeo").slider("values",1,FilterArray.Farescale[0].OriginalMaxFAre),$("#amounto").html("`"+FilterArray.Farescale[0].OrginalMin+" - `"+FilterArray.Farescale[0].OriginalMaxFAre)),"o"!=t&&(FillObject("farescale","r"),$("#slider-ranger").slider("option",{min:FilterArray.Farescale[1].OrginalMin,max:FilterArray.Farescale[1].OriginalMaxFAre}),$("#slider-ranger").slider("values",0,FilterArray.Farescale[1].OrginalMin),$("#slider-ranger").slider("values",1,FilterArray.Farescale[1].OriginalMaxFAre),$("#amountr").html("`"+FilterArray.Farescale[1].OrginalMin+" - `"+FilterArray.Farescale[1].OriginalMaxFAre));break;case"layover":"r"!=t&&(FillObject("layover","o"),$("#slider-layovero").slider("option",{min:FilterArray.LayoverTime[0].OrginalMinLayover,max:FilterArray.LayoverTime[0].OriginalMaxLayover}),$("#slider-layovero").slider("values",0,FilterArray.LayoverTime[0].OrginalMinLayover),$("#slider-layovero").slider("values",1,FilterArray.LayoverTime[0].OriginalMaxLayover),$("#layovero").html(minuteToHour(FilterArray.LayoverTime[0].OrginalMinLayover,FilterArray.LayoverTime[0].OriginalMaxLayover))),"o"!=t&&(FillObject("layover","r"),$("#slider-layoverr").slider("option",{min:FilterArray.LayoverTime[1].OrginalMinLayover,max:FilterArray.LayoverTime[1].OriginalMaxLayover}),$("#slider-layoverr").slider("values",0,FilterArray.LayoverTime[1].OrginalMinLayover),$("#slider-layoverr").slider("values",1,FilterArray.LayoverTime[1].OriginalMaxLayover),$("#layoverr").html(minuteToHour(FilterArray.LayoverTime[1].OrginalMinLayover,FilterArray.LayoverTime[1].OriginalMaxLayover)));break;case"time":if("r"!=t){FillObject("dprtTim","o");r=(i=$("#DepartureTime").val()).substring(0,i.indexOf("("));"AnyTime"!=i?($("#chkMorningo").attr("checked",!1),$("#chkMiddayo").attr("checked",!1),$("#chkAfternoono").attr("checked",!1),$("#chkEveningo").attr("checked",!1),$("#chk"+r+"o").attr("checked",!0),ApplyFilter(onwardcached,"o")):($("#chkMorningo").attr("checked","checked"),$("#chkMiddayo").attr("checked","checked"),$("#chkAfternoono").attr("checked","checked"),$("#chkEveningo").attr("checked","checked"))}if("o"!=t){FillObject("dprtTim","r");r=(i=$("#ReturnTime").val()).substring(0,i.indexOf("("));"AnyTime"!=i?($("#chkMorningr").attr("checked",!1),$("#chkMiddayr").attr("checked",!1),$("#chkAfternoonr").attr("checked",!1),$("#chkEveningr").attr("checked",!1),$("#chk"+r+"r").attr("checked",!0),ApplyFilter(returncached,"r")):($("#chkMorningr").attr("checked","checked"),$("#chkMiddayr").attr("checked","checked"),$("#chkAfternoonr").attr("checked","checked"),$("#chkEveningr").attr("checked","checked"))}break;case"airline":FillObject("airlines","o"),$("#fltAirlines").find("input").attr("checked","checked");break;case"departureairportname":FillObject("departAirports","o"),$("#onwDeptAirportDiv").find("input").attr("checked","checked"),$("#retDeptAirportDiv").find("input").attr("checked","checked");break;case"arrivalairportname":FillObject("arrivalAirports","o"),$("#onwArrAirportDiv").find("input").attr("checked","checked"),$("#retArrAirportDiv").find("input").attr("checked","checked");break;case"conairportname":FillObject("connectingAirports","o"),$("#onwConctAirportDiv").find("input").attr("checked","checked"),$("#retConctAirportDiv").find("input").attr("checked","checked");break;case"stop":FillObject("stops","o"),FillObject("stops","r"),$("#chkNonStopo").attr("checked","checked"),$("#chkOneStopo").attr("checked","checked"),$("#chkTwoStopo").attr("checked","checked"),$("#chkNonStopr").attr("checked","checked"),$("#chkOneStopr").attr("checked","checked"),$("#chkTwoStopr").attr("checked","checked");break;case"arrivaltime":if("r"!=t){FillObject("dprtTim","o");var i=$("#DepartureTime").val(),r=i.substring(0,i.indexOf("("));"AnyTime"!=i?($("#chkMorningArrivalo").attr("checked",!1),$("#chkMiddayArrivalo").attr("checked",!1),$("#chkAfternoonArrivalo").attr("checked",!1),$("#chkEveningArrivalo").attr("checked",!1),$("#chk"+r+"o").attr("checked",!0),ApplyFilter(onwardcached,"o")):($("#chkMorningArrivalo").attr("checked","checked"),$("#chkMiddayArrivalo").attr("checked","checked"),$("#chkAfternoonArrivalo").attr("checked","checked"),$("#chkEveningArrivalo").attr("checked","checked"))}if("o"!=t){FillObject("dprtTim","r");r=(i=$("#ReturnTime").val()).substring(0,i.indexOf("("));"AnyTime"!=i?($("#chkMorningArrivalr").attr("checked",!1),$("#chkMiddayArrivalr").attr("checked",!1),$("#chkAfternoonArrivalr").attr("checked",!1),$("#chkEveningArrivalr").attr("checked",!1),$("#chk"+r+"r").attr("checked",!0),ApplyFilter(returncached,"r")):($("#chkMorningArrivalr").attr("checked","checked"),$("#chkMiddayArrivalr").attr("checked","checked"),$("#chkAfternoonArrivalr").attr("checked","checked"),$("#chkEveningArrivalr").attr("checked","checked"))}}$(".ez-hide").change(),"o"==t?ApplyFilter(onwardcached,"o"):(ApplyFilter(onwardcached,"o"),ApplyFilter(returncached,"r")),display(onwardcached,"owdisplay",!1,"o"),display(returncached,"rtdisplay",!1,"r"),ApplyRSF()}function SortDirectionArrow(e,t,i){$("#"+e+"_"+t+"_Arow").removeClass("dest-arrow"+(i?"-down":"")),$("#"+e+"_"+t+"_Arow").addClass("dest-arrow"+(i?"-down":""))}function CalculateTotalLayoverTime(e){for(var t=0,i=0;i<e.SectorDetails.length;i++)null!=e.SectorDetails[i].LayoverTime&&""!=e.SectorDetails[i].LayoverTime&&(t+=60*parseInt(e.SectorDetails[i].LayoverTime.split("Hr")[0])+parseInt(e.SectorDetails[i].LayoverTime.split(".")[1].split("Min")[0]));return t}function Show3HrMsg(e){$("#div3hrMsg").css("display","block"),$("#div3hrMsg").dialog({modal:!0,width:462,title:"Message"}),$("#div3hrMsg").dialog("open"),null!=e&&"radio"==$(e).prop("type")&&$(e).prop("checked",!1)}function Accept3hrMsg(){$("#div3hrMsg").dialog("close")}function DiffSecSelectPopUpDomRT(e,t,i){SectorChangePopup(e,t,"GetConfirm(true)","GetConfirm(false)",i)}function SectorChangePopup(e,t,i,r,a){var l="";"onw"==a.toLowerCase()?l+='<div class="msg-pop-row-in">You are searched '+$("#From").val().substring($("#From").val().indexOf("[")+1,$("#From").val().indexOf("]"))+"-"+$("#To").val().substring($("#To").val().indexOf("[")+1,$("#To").val().indexOf("]"))+", but you selected "+e+"-"+t+' are your sure want to continue with selected sector..?<div class="clear"></div>':l+='<div class="msg-pop-row-in">You are searched '+$("#To").val().substring($("#To").val().indexOf("[")+1,$("#To").val().indexOf("]"))+"-"+$("#From").val().substring($("#From").val().indexOf("[")+1,$("#From").val().indexOf("]"))+", but you selected "+e+"-"+t+' are your sure want to continue with selected sector..?<div class="clear"></div>',l+='<div class ="msgbtn-row-new">',l+='<div class="msgbtn-row-left"><div class="bookbt" onclick="'+r+'">No</div></div>',l+='<div class="msgbtn-row-right"><div class="bookbt" onclick="'+i+'">Yes</div></div>',l+="</div>",$("#divSectorSelection").html(l),$("#divSectorSelection").css("display","block"),$("#divSectorSelection").dialog({modal:!0,width:600,title:"Sector Change Notification",close:function(e,t){closeSectorChangePopup()}}),$("#divSectorSelection").dialog("open")}function GetConfirm(e){1==e?(getcnfTr=!1,isAlreadyInformed=!0,$("#divSectorSelection").dialog("close"),getpricingResult(selFLT)):(getcnfTr=!0,$(".cmn-pop-close").trigger("click"),$("#divSectorSelection").dialog("close"),isAlreadyInformed=!1,selFLT="",isCabinchngInformed=!1,isSelected=!1,prcsuccess=!1)}function closeSectorChangePopup(){$(".cmn-pop-close").trigger("click"),$("#divSectorSelection").dialog("close"),getcnfTr&&(isAlreadyInformed=!1,selFLT="",isCabinchngInformed=!1,isSelected=!1,prcsuccess=!1)}var RSFonwardcached=new Array,RSFreturncached=new Array,objowflight,objrtflight,objRSFowflight,objRSFrtflight,returnselectedindex=0,firstSelection=!0;details_click_flag=!1;var openPopup="",flagOW=!1,flagRT=!1,onwno="",retno="",flagAnimateRt=!1,conTimeDomRTChkFlg=!1,BaggageSpecialConditionList="",BaggageSpecialConditionSections="",isAlreadyInformed=!1,selFLT="",input_num=0,current_num=0;$(document).ready(function(){$(document).on("click",".flt-arrbtm",function(a){var l="",o=(a.target||a.srcElement).id,s=o.match(/\d/g);s=s.join(""),l=-1!=o.indexOf("od")?"o":"r",i=s,"o"==l?(r=details_prev_ido,e=details_click_flago):(r=details_prev_idr,e=details_click_flagr);var n="#"+l+"b"+r;s!=r&&1==e&&("o"==l?details_click_flago=!1:details_click_flagr=!1,e=!1,$(n).stop(!0,!1).animate({height:"0px",paddingTop:"0%",paddingBottom:"0%",marginTop:"0px",marginBottom:"0px",opacity:"0"},600,"easeInOutCubic",function(){$(n).css({display:"none"})})),"o"==l?details_prev_ido=s:details_prev_idr=s,r=s;var c="#"+l+"b"+s;0==e?("o"==l?details_click_flago=!0:details_click_flagr=!0,e=!0,$(c).css({paddingLeft:"1%",paddingRight:"1%",marginTop:"0px",marginBottom:"0px",display:"block"}),document.addEventListener&&$(window).width()>767?$(c).stop(!0,!1).animate({height:$(c)[0].scrollHeight+"px",paddingTop:"1%",paddingBottom:"1%",marginTop:"3px",marginBottom:"5px",opacity:"1"},600,"easeInOutCubic",function(){0==tax_click_flag&&(t=$(c)[0].scrollHeight)}):($(c).css({height:$(c)[0].scrollHeight+"px",paddingTop:"1%",paddingBottom:"1%",marginTop:"3px",marginBottom:"5px",opacity:"1"}),0==tax_click_flag&&(t=$(c)[0].scrollHeight)),$("#"+l+"d"+s).text("- details")):("o"==l?details_click_flago=!1:details_click_flagr=!1,e=!1,document.addEventListener&&$(window).width()>767?$(c).stop(!0,!1).animate({height:"0px",paddingTop:"0%",paddingBottom:"0%",marginTop:"0px",marginBottom:"0px",opacity:"0"},600,"easeInOutCubic",function(){$(c).css({display:"none"}),$("#"+l+"d"+s).text("+ details")}):($(c).css({height:"0px",paddingTop:"0%",paddingBottom:"0%",marginTop:"0px",marginBottom:"0px",opacity:"0"}),$(c).css({display:"none"}),$("#"+l+"d"+s).text("+ details")))}),$(document).on("click",".split-box",function(e){if(split_box_flag=!0,1==loadingFlights)return $.blockUI({message:"<div class='waitarea'><div class='waitcontainer'><div class='waitimage displaysprite'></div><div class='waittxt'><span>Please Wait...</span><br />Search for lowest fares is not completed yet...<br />This will only take a few seconds. </div></div></div>",css:{width:"482px",border:"none",padding:"5px",backgroundColor:"#FFF","text-align":"left"}}),void setTimeout("delay()",3e3);var t,i,r=$(e.target);if(!$(r).hasClass("flt-arrbtm")){var a=$(r).parents(".split-box")[0].id;if(i=a.match(/\d/g),i=i.join(""),"r"==(t=-1!=a.indexOf("owflight")?"o":"r")){if(null!=objowflight&&parseInt(findTimeDiff(objowflight.ArrivalDateTime,returncached[i].DepartureDateTime,"T"),10)<3)return void Show3HrMsg(r);createSelectedFlight(t,i),selectFlight(t,i)}else{if(null!=objrtflight&&parseInt(findTimeDiff(onwardcached[i].ArrivalDateTime,objrtflight.DepartureDateTime,"T"),10)<3)return void Show3HrMsg(r);if(createSelectedFlight(t,i),selectFlight(t,i),null==objrtflight&&returncached.length>0)for(var l=0;l<returncached.length;l++)if(parseInt(findTimeDiff(objowflight.ArrivalDateTime,returncached[l].DepartureDateTime,"T"),10)>=3&&returncached[l].Visible){selectFlight("r",l),flagRT=!0;break}}document.addEventListener&&$(window).width()>767&&0==flagAnimateRt&&1==flagOW&&1==flagRT&&(flagAnimateRt=!0,$(".floating-sel").css({left:$(r).parents(".split-box").offset().left+"px",top:$(r).parents(".split-box").offset().top+"px",display:"block",backgroundColor:"#fff",opacity:"1",width:$(".flit-one").width()+"px",height:$(".onward").height()+"px"}),$(r).parents(".split-left").length?($(".flit-one-cover").css({left:$(".flit-one").offset().left+"px",top:$(".flit-one").find(".onward").offset().top+"px",display:"block",width:$(".flit-one").width()+"px",height:$(".onward").height()+"px"}),$(".floating-sel").html($(".flit-one").find(".onward").html()),$(".floating-sel").stop(!0,!1).animate({left:$(".flit-one").offset().left+"px",top:$(".flit-one").find(".onward").offset().top+"px"},600,"linear",function(){$(".flit-one-cover").html($(".flit-one").find(".onward").html()),$(".flit-one-cover").css({display:"none"}),flagAnimateRt=!1,$(".floating-sel").css({backgroundColor:"#FDF0CC"}),$(".floating-sel").stop(!0,!1).fadeOut(250,function(){$(".floating-sel").stop(!0,!1).fadeIn(250,function(){$(".floating-sel").stop(!0,!1).fadeOut(250,function(){$(".floating-sel").css({backgroundColor:"#FDF0CC"})})})})})):$(r).parents(".split-right").length&&($(".flit-two-cover").css({left:$(".flit-two").offset().left+"px",top:$(".flit-two").find(".onward").offset().top+"px",display:"block",width:$(".flit-one").width()+"px",height:$(".onward").height()+"px"}),$(".floating-sel").html($(".flit-two").find(".onward").html()),$(".floating-sel").stop(!0,!1).animate({left:$(".flit-two").offset().left+"px",top:$(".flit-two").find(".onward").offset().top+"px"},600,"linear",function(){$(".flit-two-cover").html($(".flit-two").find(".onward").html()),$(".flit-two-cover").css({display:"none"}),flagAnimateRt=!1,$(".floating-sel").css({backgroundColor:"#FDF0CC"}),$(".floating-sel").stop(!0,!1).fadeOut(250,function(){$(".floating-sel").stop(!0,!1).fadeIn(250,function(){$(".floating-sel").stop(!0,!1).fadeOut(250,function(){$(".floating-sel").css({backgroundColor:"#FDF0CC"})})})})})))}});var e=!1,t=0,i=1,r=1;$("#slider-rangeo").slider({range:!0,min:0,max:100,slide:function(e,t){$("#amounto").html("`"+t.values[0]+" - `"+t.values[1]),IsAppliedFilter=!1}}),$("#slider-ranger").slider({range:!0,min:0,max:100,slide:function(e,t){$("#amountr").html("`"+t.values[0]+" - `"+t.values[1]),IsAppliedFilter=!1}}),$(document).bind("mousedown",function(e){var t=e.target||e.srcElement;if("grey-scroll-bt"==$(t).attr("class")){var i=$(t).parent().parent().children().eq(1);$("body").addClass("unselectable"),$("html, body").bind("mousemove",function(e){var t=$(i).parent().height()/$(i)[0].scrollHeight*$(i).parent().height(),r=($(i).parent().height(),$(i)[0].scrollHeight,$(i).parent().height(),(e.pageY-$(i).offset().top)*(($(i)[0].scrollHeight-$(i).parent().height())/($(i).parent().height()-t)));$(i).stop(!0,!1).animate({scrollTop:r+"px"},10,"linear")}),$("html, body").bind("mouseup",function(){$("html, body").unbind("mousemove"),$("body").removeClass("unselectable")})}}),$("#fltfaretypediv").click(function(){if(0==loadingFlights){1!=stopShowing&&1!=isFaredetailsShowing||($("#faredetails").css("display","none"),$("#stopsdetailmodel").css("display","none"),$("#overlay").remove(),stopShowing=!1,isFaredetailsShowing=!1),prevFilter.length>0&&$(prevFilter).stop(!0,!1).fadeOut(600);var e=$("#fltfaretypediv").offset();$("#faretypepop").css("top",e.top-10),$("#faretypepop").css("left",e.left+$("#fltfaretypediv").width()+5),$("#faretypepop").css("position","absolute"),$("#faretypepop").stop(!0,!1).fadeIn(600),$("<div/>").css({width:$("body").width(),height:$("#pagewrap").height()}).appendTo("body").attr("id","overlay").click(function(){CloseFilterOuter("#faretypepop"),$(this).remove()}),prevFilter="#faretypepop"}}),$("#fltfarescalediv").click(function(){if(0==loadingFlights){1!=stopShowing&&1!=isFaredetailsShowing||($("#faredetails").css("display","none"),$("#stopsdetailmodel").css("display","none"),$("#overlay").remove(),stopShowing=!1,isFaredetailsShowing=!1),prevFilter.length>0&&$(prevFilter).stop(!0,!1).fadeOut(600);var e=$("#fltfarescalediv").offset();$("#farescalepop").css("top",e.top),$("#farescalepop").css("left",e.left+$("#fltfarescalediv").width()+5),$("#farescalepop").css("position","absolute"),$("#farescalepop").stop(!0,!0).fadeIn(),$("<div/>").css({width:$("body").width(),height:$("#pagewrap").height()}).appendTo("body").attr("id","overlay").click(function(){CloseFilterOuter("#farescalepop"),$(this).remove()}),prevFilter="#farescalepop"}}),$("#flttimediv").click(function(){if(0==loadingFlights){1!=stopShowing&&1!=isFaredetailsShowing||($("#faredetails").css("display","none"),$("#stopsdetailmodel").css("display","none"),$("#overlay").remove(),stopShowing=!1,isFaredetailsShowing=!1),prevFilter.length>0&&$(prevFilter).stop(!0,!1).fadeOut(600);var e=$("#flttimediv").offset();$("#timepop").css("top",e.top),$("#timepop").css("left",e.left+$("#flttimediv").width()+5),$("#timepop").css("position","absolute"),$("#timepop").stop(!0,!1).fadeIn(600),$("<div/>").css({width:$("body").width(),height:$("#pagewrap").height()}).appendTo("body").attr("id","overlay").click(function(){CloseFilterOuter("#timepop"),$(this).remove()}),prevFilter="#timepop"}}),$("#fltairlinediv").click(function(){if(0==loadingFlights){1!=stopShowing&&1!=isFaredetailsShowing||($("#faredetails").css("display","none"),$("#stopsdetailmodel").css("display","none"),$("#overlay").remove(),stopShowing=!1,isFaredetailsShowing=!1),prevFilter.length>0&&$(prevFilter).stop(!0,!1).fadeOut(600);var e=$("#fltairlinediv").offset();$("#airlinepop").css("top",e.top),$("#airlinepop").css("left",e.left+$("#fltairlinediv").width()+5),$("#airlinepop").css("position","absolute"),$("#airlinepop").stop(!0,!1).fadeIn(600),$("<div/>").css({width:$("body").width(),height:$("#pagewrap").height()}).appendTo("body").attr("id","overlay").click(function(){CloseFilterOuter("#airlinepop"),$(this).remove()}),prevFilter="#airlinepop"}}),$("#stopdiv").click(function(){if(0==loadingFlights){1!=stopShowing&&1!=isFaredetailsShowing||($("#faredetails").css("display","none"),$("#stopsdetailmodel").css("display","none"),$("#overlay").remove(),stopShowing=!1,isFaredetailsShowing=!1),prevFilter.length>0&&$(prevFilter).stop(!0,!1).fadeOut(600);var e=$("#stopdiv").offset();$("#stoppopup").css("top",e.top),$("#stoppopup").css("left",e.left+$("#stopdiv").width()+5),$("#stoppopup").css("position","absolute"),$("#stoppopup").stop(!0,!1).fadeIn(600),$("<div/>").css({width:$("body").width(),height:$("#pagewrap").height()}).appendTo("body").attr("id","overlay").click(function(){CloseFilterOuter("#stoppopup"),$(this).remove()}),prevFilter="#stoppopup"}}),$("#departairportsdiv").click(function(){if(0==loadingFlights){1!=stopShowing&&1!=isFaredetailsShowing||($("#faredetails").css("display","none"),$("#stopsdetailmodel").css("display","none"),$("#overlay").remove(),stopShowing=!1,isFaredetailsShowing=!1),prevFilter.length>0&&$(prevFilter).stop(!0,!1).fadeOut(600);var e=$("#departairportsdiv").offset();$("#departairportspop").css("top",e.top),$("#departairportspop").css("left",e.left+$("#departairportsdiv").width()+5),$("#departairportspop").css("position","absolute"),$("#departairportspop").stop(!0,!1).fadeIn(600),$("<div/>").css({width:$("body").width(),height:$("#pagewrap").height()}).appendTo("body").attr("id","overlay").click(function(){CloseFilterOuter("#departairportspop"),$(this).remove()}),prevFilter="#departairportspop"}}),$("#arrairportsdiv").click(function(){if(0==loadingFlights){1!=stopShowing&&1!=isFaredetailsShowing||($("#faredetails").css("display","none"),$("#stopsdetailmodel").css("display","none"),$("#overlay").remove(),stopShowing=!1,isFaredetailsShowing=!1),prevFilter.length>0&&$(prevFilter).stop(!0,!1).fadeOut(600);var e=$("#arrairportsdiv").offset();$("#arrairportspop").css("top",e.top),$("#arrairportspop").css("left",e.left+$("#arrairportsdiv").width()+5),$("#arrairportspop").css("position","absolute"),$("#arrairportspop").stop(!0,!1).fadeIn(600),$("<div/>").css({width:$("body").width(),height:$("#pagewrap").height()}).appendTo("body").attr("id","overlay").click(function(){CloseFilterOuter("#arrairportspop"),$(this).remove()}),prevFilter="#arrairportspop"}}),$("#conairportsdiv").click(function(){if(0==loadingFlights){1!=stopShowing&&1!=isFaredetailsShowing||($("#faredetails").css("display","none"),$("#stopsdetailmodel").css("display","none"),$("#overlay").remove(),stopShowing=!1,isFaredetailsShowing=!1),prevFilter.length>0&&$(prevFilter).stop(!0,!1).fadeOut(600);var e=$("#conairportsdiv").offset();$("#conairportspop").css("top",e.top),$("#conairportspop").css("left",e.left+$("#conairportsdiv").width()+5),$("#conairportspop").css("position","absolute"),$("#conairportspop").stop(!0,!1).fadeIn(600),$("<div/>").css({width:$("body").width(),height:$("#pagewrap").height()}).appendTo("body").attr("id","overlay").click(function(){CloseFilterOuter("#conairportspop"),$(this).remove()}),prevFilter="#conairportspop"}}),getRSFResult(),$("#fltArrivaltimediv").click(function(){if(0==loadingFlights){1!=stopShowing&&1!=isFaredetailsShowing||($("#faredetails").css("display","none"),$("#stopsdetailmodel").css("display","none"),$("#overlay").remove(),stopShowing=!1,isFaredetailsShowing=!1),prevFilter.length>0&&$(prevFilter).stop(!0,!1).fadeOut(600);var e=$("#flttimediv").offset();$("#arrivaltimepop").css("top",e.top),$("#arrivaltimepop").css("left",e.left+$("#flttimediv").width()+5),$("#arrivaltimepop").css("position","absolute"),$("#arrivaltimepop").stop(!0,!1).fadeIn(600),$("<div/>").css({width:$("body").width(),height:$("#pagewrap").height()}).appendTo("body").attr("id","overlay").click(function(){CloseFilterOuter("#arrivaltimepop"),$(this).remove()}),prevFilter="#arrivaltimepop"}}),$("#fltlayoverdiv").click(function(){if(0==loadingFlights){1!=stopShowing&&1!=isFaredetailsShowing||($("#faredetails").css("display","none"),$("#stopsdetailmodel").css("display","none"),$("#overlay").remove(),stopShowing=!1,isFaredetailsShowing=!1),prevFilter.length>0&&$(prevFilter).stop(!0,!1).fadeOut(600);var e=$("#fltlayoverdiv").offset();$("#LayOverpop").css("top",e.top),$("#LayOverpop").css("left",e.left+$("#fltlayoverdiv").width()+5),$("#LayOverpop").css("position","absolute"),$("#LayOverpop").stop(!0,!0).fadeIn(),$("<div/>").css({width:$("body").width(),height:$("#pagewrap").height()}).appendTo("body").attr("id","overlay").click(function(){CloseFilterOuter("#LayOverpop"),$(this).remove()}),prevFilter="#LayOverpop"}}),$(document).on("click",".ui-dialog-titlebar-close",function(e){conTimeDomRTChkFlg=!1,isSelected=!1,"divtimeprmptmsg"==$(this).parent().siblings(".ui-dialog-content")[0].id.toLowerCase()&&$("#divTimePrmptMsg").dialog("close")}),null!=(BaggageSpecialConditionList=jQuery.parseJSON($("#hdnBaggageSpecialCondition").val()))&&""!=BaggageSpecialConditionList&&"null"!=BaggageSpecialConditionList&&(BaggageSpecialConditionSections=BaggageSpecialConditionList.Sections),$("#slider-layovero").slider({range:!0,min:0,max:100,slide:function(e,t){IsAppliedFilter=!1,$("#layovero").html(minuteToHour(t.values[0],t.values[1]))}}),$("#slider-layoverr").slider({range:!0,min:0,max:100,slide:function(e,t){IsAppliedFilter=!1,$("#layoverr").html(minuteToHour(t.values[0],t.values[1]))}})});var prevFilter="",details_click_flag=!1,details_click_flago=!1,details_click_flagr=!1,tax_click_flag=!1,close_height=0,details_id=1,details_prev_ido=1,details_prev_idr=1,details_prev_id=1,item_count=0,scroll_target_flag=!1,scroll_target="",prev_height=new Array,prev_height_outer=new Array,allFlightNames="",avlbleFlights="",minFareO=1e6,maxFareO=0,minFareR=1e6,maxFareR=0,visibleCount=0,secIndex=0,flagDomMC=!1,minLayOverO=1e6,maxLayOverO=0,minLayOverR=1e6,maxLayOverR=0,onwDeptAirports="",onwArrAirports="",onwConAirports="",retDeptAirports="",retArrAirports="",retConAirports="",preOnwFieldName="",PreRetFieldName="",preOnwReverse=!1,preRetReverse=!1,isReverseSortOnw=!1,isReverseSortRet=!1,prevSortDirection="",onwardselected=0,split_box_flag=!1,flightsel1=null,flightselrtn1=null,cabinchngsec="",cabinchngcls="",isCabinchngInformed=!1,prcsuccess=!1,cabinchngsecprc="",cabinchngclsprc="",cabinclschangepopPRC=!1,timechangepop=!1,isCloseButtonPressed=!1,getcnfTr=!0;