// Minified by MiniME from toptensoftware.com
var SearchRtn,return_selected=false,EnableAirlinePrefence=false,selval="",chk=false,num_of_cities=2,isfirstload=false,
autocomplete_flag=false,num=0,validationstatus=true,isValidatedOKToBoard=false,isValidatedMultiCityOKToBoard=false,
isValidatedDMSBusService=false,isValidatedMultiCityDMSBusService=false,enableSrchTabChg=true;$(document).ready(function(
){if($("#SearchCount").val()>1){num_of_cities=$("#SearchCount").val();num_of_cities=parseInt(num_of_cities)}
resize_search();$("#Return").datepicker({numberOfMonths:3,dateFormat:"dd/mm/yy",minDate:0,maxDate:485,firstDay:1,
onSelect:function(d){var f=this.id=="Departure"?"minDate":"maxDate",a=$(this).data("datepicker"),e=$.datepicker.
parseDate(a.settings.dateFormat||$.datepicker._defaults.dateFormat,d,a.settings);if($("#Departure").val()=="dd/mm/yyyy"
||$("#Departure").val()=="")$("#Departure").val("dd/mm/yyyy");if($("#From").val()==""||$("#From").val()==
"Type Departure Location Here")$("#From").focus();else if($("#To").val()==""||$("#To").val()==
"Type Arrival Location Here")$("#To").focus();else if($("#Departure").val()=="dd/mm/yyyy"||$("#Departure").val()=="")
setTimeout(function(){$("#Departure").focus()},200);return_selected=true}});$("#rtnBlck").click(function(){console.log($
(this).next("#Return"));if($(this).next("#Return").attr("disabled")=="disabled"){$("#roundtrip").next().click();$(this).
next("#Return").focus()}});var t=0;$(".advsrchtxt").click(function(e){var a=".advsrchbox";if($(".radio-inp:checked").val
()!="M")a=".advsrchbox";else a=".multiadvsrchbox";if(t==0){t=1;$(a).css({display:"block"});selectboxstyle();$(a).stop(
true,false).animate({height:$(a)[0].scrollHeight+"px"},600,"easeInOutCubic",function(){t=2});try{$(".tab-disply").height
("auto")}catch(d){}$(this).css({"background-position":"96px -497px"})}else if(t==2){t=3;$(this).css({
"background-position":"97px -483px"});$(a).stop(true,false).animate({height:"0px",paddingBottom:"0px"},600,
"easeInOutCubic",function(){$(a).css({display:"none"});t=0});try{$(".tab-disply").stop(true,false).animate({height:$(
".tab-disply")[0].scrollHeight-$(a)[0].scrollHeight+"px"},600,"easeInOutCubic")}catch(d){}}resize_search()});$(
"#Departure").datepicker({numberOfMonths:3,dateFormat:"dd/mm/yy",minDate:0,maxDate:485,firstDay:1,onSelect:function(d){
var f=this.id=="Departure"?"minDate":"maxDate",a=$(this).data("datepicker"),e=$.datepicker.parseDate(a.settings.
dateFormat||$.datepicker._defaults.dateFormat,d,a.settings);$("#Return").datepicker("option",f,e);if(return_selected==
false)$("#Return").val("dd/mm/yyyy");if($("#From").val()==""||$("#From").val()=="Type Departure Location Here")$("#From"
).focus();else if($("#To").val()==""||$("#To").val()=="Type Arrival Location Here")$("#To").focus();else if($("#Return")
.val()=="dd/mm/yyyy"||$("#Return").val()==""||$("#Return").val()==$("#Departure").val()){if(des==""&&$(
'[name="SearchType"]:checked').val()=="R")setTimeout(function(){$("#Return").focus()},200);if(return_selected==true)$(
"#Return").val(d)}$("#searchform").validate().element(this)}});$(".multiclndr-modfy").datepicker({numberOfMonths:3,
dateFormat:"dd/mm/yy",minDate:0,maxDate:365,firstDay:1,onSelect:function(k){if(this.id.indexOf("MultiCityDeparture")!=-1
)option="minDate";else option="maxDate";var g=$(this).data("datepicker"),e=this.id,d=parseInt(e.substring(e.length-1))+
parseInt(1),f=$.datepicker.parseDate(g.settings.dateFormat||$.datepicker._defaults.dateFormat,k,g.settings);for(a=d+1;a<
6;a++){$("#MultiCityDeparture"+a).datepicker("option",option,f);if($("#MultiCityDeparture"+a).val()=="")$(
"#MultiCityDeparture"+a).val(" dd/mm/yyyy");if($("#MultiCityDeparture"+a).val()!="dd/mm/yyyy"&&$("#MultiCityDeparture"+a
).val()!=" dd/mm/yyyy"){var i=$("#MultiCityDeparture"+a).data("datepicker"),n=$.datepicker.parseDate(i.settings.
dateFormat||$.datepicker._defaults.dateFormat,$("#MultiCityDeparture"+a).val(),i.settings),m=$("#MultiCityDeparture"+d).
data("datepicker"),o=$.datepicker.parseDate(m.settings.dateFormat||$.datepicker._defaults.dateFormat,k,m.settings);if(n<
o)if($("#multicityfrom"+a).val()!="Select  Departure City"&&$("#multicityfrom"+a).val()!="Select Departure City")$(
"#MultiCityDeparture"+a).val($("#MultiCityDeparture"+d).val())}}$("#MultiCityDeparture"+d).datepicker("option",option,f)
;if($("#MultiCityDeparture"+d).val()=="dd/mm/yyyy"||$("#MultiCityDeparture"+d).val()=="")for(var a=d;a<num_of_cities;a++
)$("#MultiCityDeparture"+a).val($("#"+e).val());$("#searchform").validate().element(this)}});for(var b=1;b<=5;b++){var h
=parseInt(b)-1,q="";if($("#MultiCityDeparture"+h).val()!=undefined&&$("#MultiCityDeparture"+h).val()!=""){$(
"#MultiCityDeparture"+b).datepicker("option","minDate",$("#MultiCityDeparture"+h).val());if($("#MultiCityDeparture"+b).
val()=="")$("#MultiCityDeparture"+b).val(" dd/mm/yyy");q=$("#MultiCityDeparture"+h).val()}else{h=parseInt(h-1);$(
"#MultiCityDeparture"+b).datepicker("option","minDate",$("#MultiCityDeparture"+h).val())}}$(".label_check, .label_radio"
).click(function(){setupLabel()});setupLabel();$("select.styled").customStyle();if($(window).width()<1654)$(".save-more"
).css({display:"none"});else $(".save-more").css({display:"block"});$(window).resize(function(){resize_search();if($(
window).width()<1654)$(".save-more").css({display:"none"});else $(".save-more").css({display:"block"})});var j="https:"
==document.location.protocol?"https://":"http://";j=j+window.location.host+"/Flight/ValidateAirport";$("#searchform").
validate({rules:{"AirlineData[0].From":{required:true,remote:{url:j,cache:false,async:true,dataType:"json"},minlength:5,
notequalto:"#To"},"AirlineData[0].To":{required:true,remote:{url:j,cache:false,async:true,dataType:"json"},minlength:5,
notequalto:"#From"},"AirlineData[0].Departure":{required:true,indiandate:true},Return:{required:function(a){if($(
'[name="SearchType"]:checked').val()=="R")return true;else return false},indiandate:true}},messages:{
"AirlineData[0].From":{required:"Please select a valid departure airport",remote:
"Please select a valid departure airport",minlength:"Please select a valid departure airport",notequalto:
"From and To can't be same"},"AirlineData[0].To":{required:"Please select a valid arrival airport",remote:
"Please select a valid arrival airport",minlength:"Please select a valid arrival airport",notequalto:
"From and To can't be same"},"AirlineData[0].Departure":{required:"Invalid date",indiandate:"Invalid date"},Return:{
required:"Invalid date",indiandate:"Invalid date"}},showErrors:function(i,e){$.each(this.validElements(),function(g,d){
var a=$(d);a.attr("title","").removeClass("error");if(a.prop("type")=="select-one")a.next("span").removeClass("error");
try{a.tooltip("destroy")}catch(f){}});$.each(e,function(g,d){var a=$(d.element);if(a.prop("type")=="select-one")a.next(
"span").addClass("error");try{a.tooltip("destroy")}catch(f){}a.attr("title",d.message).addClass("error").tooltip({
position:{my:"left+15 top+10",at:"left center"}})})},invalidHandler:function(e,a){var d=a.numberOfInvalids();if(d)a.
errorList[0].element.focus()},onfocusout:function(d){var a=this;setTimeout(function(){if(!a.checkable(d)&&(d.name in a.
submitted||!a.optional(d)))a.element(d);a=null},1000)},onkeyup:false});$("#Adults").change(function(){var n=$(
"#Chindren").val(),p=$("#Adults").val(),g=9-p,i=$("#Chindren"),e=[];for(var a=0;a<=g;a++)if(a==n)e.push("<option value="
+a+' selected="selected">'+a+"</option>");else e.push("<option value="+a+">"+a+"</option>");i.html(e.join());if(g<n)i.
next(".homeStyleSelectBox").children().html(0);var m=$("#Infants").val(),o=$("#Adults").val(),k=$("#Infants"),f=[];for(
var d=0;d<=o;d++)if(d==m)f.push("<option value="+d+' selected="selected">'+d+"</option>");else f.push("<option value="+d
+">"+d+"</option>");k.html(f.join());if(o<m)k.next(".homeStyleSelectBox").children().html(0)});$(".sector-center").click
(function(){if($("#From").val()!="Type Departure Location Here"&&$("#To").val()!="Type Arrival Location Here"){$(this).
toggleClass("sector180");if($("#From").val().indexOf("Departure")==-1){var a=$("#From").val();$("#From").val($("#To").
val());$("#To").val(a)}}});var u=false;$("#From").autocomplete({source:$("#domTab").hasClass("domest")&&$("#intTab").
hasClass("intern")?"/Flight/FindAllSectors":"/Flight/FindAllSectors",selectFirst:true,minLength:3,highlight:true,
autoFill:true,cacheLength:10,autoFocus:true,close:function(m,n){if($.browser.msie&&(parseInt($.browser.version,10)===8||
parseInt($.browser.version,10)===7))u=true;var a=$(this).data("uiAutocomplete"),f=a.menu,e=f.element.children(),i=a.term
,g=false;$.each(e,function(k,d){if($(d).text()==i){g=true;$("#From").val($(d).text());if($("#To").val()==""||$("#To").
val()=="Type Arrival Location Here")$("#To").focus();else if($("#Departure").val()=="dd/mm/yyyy"||$("#Departure").val()
=="")$("#Departure").focus();NavigateToTabFromSearch();return false}})},change:function(a,d){if($("#From").val().indexOf
("[")>1&&$("#From").val().indexOf("]")>1&&$("#To").val().indexOf("[")>1&&$("#To").val().indexOf("]")>1){}else{}},open:
function(a,d){$("#fromDropDownDiv").css("display","none")}});$("#To").autocomplete({source:$("#domTab").hasClass(
"domest")&&$("#intTab").hasClass("intern")?"/Flight/FindAllSectors":"/Flight/FindAllSectors",minLength:3,selectFirst:
true,highlight:true,autoFill:true,cacheLength:10,autoFocus:true,close:function(n,o){if($.browser.msie&&(parseInt($.
browser.version,10)===8||parseInt($.browser.version,10)===7))u=true;var a=$(this).data("uiAutocomplete"),g=a.menu,f=g.
element.children(),k=a.term,i=false;$.each(f,function(e,d){if($(d).text()==k){i=true;$("#To").val(k);if($("#From").val()
==""||$("#From").val()=="Type Departure Location Here")$("#From").focus();else if($("#Departure").val()=="dd/mm/yyyy"||$
("#Departure").val()=="")$("#Departure").focus();NavigateToTabFromSearch();return false}})},change:function(a,d){if($(
"#From").val().indexOf("[")>1&&$("#From").val().indexOf("]")>1&&$("#To").val().indexOf("[")>1&&$("#To").val().indexOf(
"]")>1){}else{}},open:function(a,d){$("#toDropDownDiv").css("display","none")}});$("#To").blur(function(){if($(this).val
().indexOf("Type")==0&&$("#From").val().indexOf("Type")==0){}else{}});$("#From").blur(function(){if($(this).val().
indexOf("Type")==-1&&$("#To").val().indexOf("Type")==-1){}else{}});$("#From").click(function(){});$("#From").focus(
function(){if($("#fromDropDownDiv").css("display")=="none"&&u==false){$("#toDropDownDiv").css("display","none");$(
"#From").val("");$("#From").autocomplete("close");var i=$("#domTab").hasClass("domest")&&$("#intTab").hasClass("intern")
?"D":"I",o={id:"from*"+i,timeStamp:new Date()};$.getJSON("/Flight/GetPriorityAirports",o,function(e){var k="",g="",f="",
n=i=="D"?"All Airports":"Important Airports",a="";if(e!=null)if(e.length>0){if(e[0]!=null)e[0].length>0&&$.each(e[0],
function(x,d){k=k+
"<li id='splListLiFrom' style='padding:2px 0 2px 5px; font-size:12px; line-height:20px;' onmouseover='ChangeLiColor(this)' onmouseout='ChangeLiColorBack(this)'"
;k=k+" onclick='SetHotelFromLi(this)'>";k=k+d+"</li>"});if(e[1]!=null)e[1].length>0&&$.each(e[1],function(x,d){g=g+
"<li id='splListLiFrom' style='padding:2px 0 2px 5px; font-size:12px; line-height:20px;' onmouseover='ChangeLiColor(this)' onmouseout='ChangeLiColorBack(this)'"
;g=g+" onclick='SetHotelFromLi(this)'>";g=g+d.CityName+" - "+d.Name+","+d.Country+" ["+d.Code+"]</li>";if(d.
AirportPriority=="1"&&i=="D"){f=f+
"<li id='splListLiFrom' style='padding:2px 0 2px 5px; font-size:12px; line-height:20px;' onmouseover='ChangeLiColor(this)' onmouseout='ChangeLiColorBack(this)'"
;f=f+" onclick='SetHotelFromLi(this)'>";f=f+d.CityName+" - "+d.Name+","+d.Country+" ["+d.Code+"]</li>"}});if(k!=""){a=
"<ul id='SectorsUlFrom' style='cursor:pointer; font-size:11px;'>";a=a+
"<li id='splListLiFrom' style='font-weight:bold;line-height:21px; color:#960606;border-bottom:1px solid #960606; padding:2px 0 2px 5px;'>Previously Searched Sectors</li>"
+k;a=a+"</ul>"}if(f!=""){a=a+"<ul id='impAirportsUlFrom' style='cursor:pointer; font-size:11px;'>";a=a+
"<li id='splListLiFrom' style='font-weight:bold;line-height:21px; color:#960606;border-bottom:1px solid #960606; padding:2px 0 2px 5px;'>Important Airports</li>"
+f;a=a+"</ul>"}if(g!=""){a=a+"<ul id='AirportsUlFrom' style='cursor:pointer; font-size:11px;'>";a=a+
"<li id='splListLiFrom' style='font-weight:bold;line-height:21px; color:#960606;border-bottom:1px solid #960606; padding:2px 0 2px 5px;'>"
+n+"</li>"+g;a=a+"</ul>"}if(a!=""){var m=$("#From").position();$("#fromDropDownDiv").css("top",m.top+37);$(
"#fromDropDownDiv").css("left",m.left);$("#fromDropDownDiv").css({height:0,display:"block"});$("#fromDropDownDiv").html(
a);$("#fromDropDownDiv").stop(true,false).animate({height:"400px"},300,"easeOutCubic",function(){})}}})}u=false});$(
"#To").click(function(){});$("#To").focus(function(){if($("#toDropDownDiv").css("display")=="none"&&u==false){$(
"#fromDropDownDiv").css("display","none");$("#To").val("");$("#To").autocomplete("close");var i=$("#domTab").hasClass(
"domest")&&$("#intTab").hasClass("intern")?"D":"I",o={id:"to*"+i,timeStamp:new Date()};$.getJSON(
"/Flight/GetPriorityAirports",o,function(e){var k="",g="",f="",n=i=="D"?"All Airports":"Important Airports",a="";if(e!=
null)if(e.length>0){if(e[0]!=null)e[0].length>0&&$.each(e[0],function(x,d){k=k+
"<li id='splListLiTo' style='padding:2px 0 2px 5px; font-size:12px; line-height:20px;' onmouseover='ChangeLiColor(this)' onmouseout='ChangeLiColorBack(this)'"
;k=k+" onclick='SetHotelFromLi(this)'>";k=k+d+"</li>"});if(e[1]!=null)e[1].length>0&&$.each(e[1],function(x,d){g=g+
"<li id='splListLiTo' style='padding:2px 0 2px 5px; font-size:12px; line-height:20px;' onmouseover='ChangeLiColor(this)' onmouseout='ChangeLiColorBack(this)'"
;g=g+" onclick='SetHotelFromLi(this)'>";g=g+d.CityName+" - "+d.Name+","+d.Country+" ["+d.Code+"]</li>";if(d.
AirportPriority=="1"&&i=="D"){f=f+
"<li id='splListLiTo' style='padding:2px 0 2px 5px; font-size:12px; line-height:20px;' onmouseover='ChangeLiColor(this)' onmouseout='ChangeLiColorBack(this)'"
;f=f+" onclick='SetHotelFromLi(this)'>";f=f+d.CityName+" - "+d.Name+","+d.Country+" ["+d.Code+"]</li>"}});if(k!=""){a=
"<ul id='SectorsUlTo' style='cursor:pointer; font-size:11px;'>";a=a+
"<li id='splListLiTo' style='font-weight:bold;line-height:21px; color:#960606;border-bottom:1px solid #960606; padding:2px 0 2px 5px;'>Previously Searched Sectors</li>"
+k;a=a+"</ul>"}if(f!=""){a=a+"<ul id='im;pAirportsUlTo' style='cursor:pointer; font-size:11px;'>";a=a+
"<li id='splListLiFrom' style='font-weight:bold;line-height:21px; color:#960606;border-bottom:1px solid #960606; padding:2px 0 2px 5px;;'>Important Airports</li>"
+f;a=a+"</ul>"}if(g!=""){a=a+"<ul id='AirportsUlTo' style='cursor:pointer; font-size:11px;'>";a=a+
"<li id='splListLiTo' style='font-weight:bold;line-height:21px; color:#960606;border-bottom:1px solid #960606; padding:2px 0 2px 5px;;'>"
+n+"</li>"+g;a=a+"</ul>"}if(a!=""){var m=$("#To").position();$("#toDropDownDiv").css("top",m.top+37);$("#toDropDownDiv")
.css("left",m.left);$("#toDropDownDiv").css({height:0,display:"block"});$("#toDropDownDiv").html(a);$("#toDropDownDiv").
stop(true,false).animate({height:"400px"},300,"easeOutCubic",function(){})}}})}u=false});$("body").click(function(a){if(
a.target.id!="fromDropDownDiv"&&a.target.id!="toDropDownDiv"&&a.target.id!="From"&&a.target.id!="To"&&a.target.id!=
"splListLiFrom"&&a.target.id!="AirportsUlFrom"&&a.target.id!="splListLiTo"&&a.target.id!="AirportsUlTo"&&a.target.id!=
"SectorsUlFrom"&&a.target.id!="SectorsUlTo"&&a.target.id!="impAirportsUlFrom"&&a.target.id!="impAirportsUlTo"&&a.target.
id!="fromDropDownDiv_MS0"&&a.target.id.indexOf("multicityfrom")&&a.target.id.indexOf("multicityto"))if(a.target.
innerHTML!="Important Airports"&&a.target.innerHTML!="Previously Searched Sectors"&&a.target.innerHTML!="All Airports"){
$("#fromDropDownDiv").css("display","none");$("#fromDropDownDiv_MS0").css("display","none");$("#toDropDownDiv").css(
"display","none")}});$("#news").dialog({autoOpen:false,width:450,resizable:false,modal:true,dialogClass:"",title:
"Subscribe Newsletter"});$("#newsLetterForm").validate({rules:{newsletter:{required:true,email:true}},messages:{
newsletter:{required:"Please enter an email id",email:"Please enter a valid email id"}},showErrors:function(i,e){$.each(
this.validElements(),function(g,d){var a=$(d);a.attr("title","").removeClass("error");if(a.prop("type")=="select-one")a.
next("span").removeClass("error");try{a.tooltip("destroy")}catch(f){}});$.each(e,function(g,d){var a=$(d.element);if(a.
prop("type")=="select-one")a.next("span").addClass("error");try{a.tooltip("destroy")}catch(f){}a.attr("title",d.message)
.addClass("error").tooltip({position:{my:"left+15 top+10",at:"left center"}})})},invalidHandler:function(e,a){var d=a.
numberOfInvalids();if(d)a.errorList[0].element.focus()}});if($("input[name='SearchType']:checked").val()=="O")showReturn
("hidden");else if($("input[name='SearchType']:checked").val()=="M")$("#multicitydiv").css("display","");else showReturn
("");var c=$("#AirlinePreference").val().split(",");if($("#SelectedSearchType").val()=="D")if(c.length<9){for(var b=0;b<
c.length;b++)if(c[b]!="")$(".selectbox").prepend('<div class="seltd">'+c[b]+'<div class="sel-close">x</div> </div>')}
else if($(".sb-text").val()==""&&$(".seltd").text()=="")$(".selectbox").prepend('<div class="seltd">All </div>');else 
var l=$("#hdnpreffered").val();else if(c.length<20){for(var b=0;b<c.length;b++)if(c[b]!="")$(".selectbox").prepend(
'<div class="seltd">'+c[b]+'<div class="sel-close">x</div> </div>')}else if($(".sb-text").val()==""&&$(".seltd").text()
=="")$(".selectbox").prepend('<div class="seltd">All </div>');else var l=$("#hdnpreffered").val();selectboxstyle();$(
".selectbox").click(function(){if($("#From").val().indexOf("Type")==-1&&$("#To").val().indexOf("Type")==-1&&$(".seltd").
text()=="All "&&$(".dropdivider").text()==""||$("#pageval").val()=="modify")if($("#From").val().indexOf("Type")==-1&&$(
"#To").val().indexOf("Type")==-1)EnableAirlinePrefence=true;else EnableAirlinePrefence=false;else{EnableAirlinePrefence=
false;if($("#From").val().indexOf("Type")==-1&&$("#To").val().indexOf("Type")==-1)$(".dropdown-cont").show()}if(
EnableAirlinePrefence==true){if($("#From").val()!=""&&$("#From").val().indexOf("Type")==-1)var k=$("#From").val().split(
"[")[1].replace("]","");if($("#To").val()!=""&&$("#To").val().indexOf("Type")==-1)var m=$("#To").val().split("[")[1].
replace("]","");var n=SelectPreferedAirlines();$(".option").each(function(){$(this).prop("checked",false)});$(".sb-text"
).focus();var i={To:m,From:k};$.ajax({url:"/Flight/FindPreferedAirlines/",cache:false,data:i,datatype:"json",success:
function(e){if(e!=null&&e.length>0){var f="";$.each(e,function(d,a){if(n.indexOf("All")==-1)f=f+
'<label class="dropdivider"> <INPUT NAME="options"   class="option"  TYPE="CHECKBOX" VALUE="'+a+'"'+(n.indexOf(a)>-1?
"checked":"checked")+">"+a+"<BR></label>";else f=f+
'<label class="dropdivider"> <INPUT NAME="options"   class="option"  TYPE="CHECKBOX" VALUE="'+a+'" checked="checked" >'+
a+"<BR></label>"});$("#dropdownAirlinePreference").html(f);$(".dropdown-cont").show();if($("#pageval").val()=="modify"){
$(".option").each(function(){$(this).prop("checked",false)});selval=$("#AirlinePreference").val();$(".option").each(
function(){var d=this.value;for(var a=0;a<selval.split(",").length-1;a++)if(selval.split(",")[a]==this.value)$(this).
prop("checked",true)});if($.trim(selval.split(",")[0])=="All")$(".option").each(function(){$(this).prop("checked",true)}
)}}}})}$("#AirlinePreference").val(SelectPreferedAirlines());selectboxstyle()});var c=$("#MulticityAirlinePreference").
val().split(",");if($("#SelectedSearchType").val()=="D")if(c.length<9){for(var b=0;b<c.length;b++)if(c[b]!="")$(
".multiselectbox").prepend('<div class="seltd">'+c[b]+'<div class="sel-close">x</div> </div>')}else if($(".multisb-text"
).val()==""&&$(".seltd").text()=="")$(".multiselectbox").prepend('<div class="seltd">All </div>');else var l=$(
"#hdnMultipreffered").val();else if(c.length<20){for(var b=0;b<c.length;b++)if(c[b]!="")$(".multiselectbox").prepend(
'<div class="seltd">'+c[b]+'<div class="sel-close">x</div> </div>')}else if($(".multisb-text").val()==""&&$(".seltd").
text()=="")$(".multiselectbox").prepend('<div class="seltd">All </div>');else var l=$("#hdnMultipreffered").val();$(
".multiselectbox").click(function(){if($("#multicityfrom0").val().indexOf("Select")==-1&&$("#multicityto0").val().
indexOf("Select")==-1||$("#multicityfrom1").val().indexOf("Select")==-1&&$("#multicityto1").val().indexOf("Select")==-1
||$("#multicityfrom2").val().indexOf("Select")==-1&&$("#multicityto2").val().indexOf("Select")==-1||$("#multicityfrom3")
.val().indexOf("Select")==-1&&$("#multicityto3").val().indexOf("Select")==-1||$("#multicityfrom4").val().indexOf(
"Select")==-1&&$("#multicityto4").val().indexOf("Select")==-1||$("#multicityfrom5").val().indexOf("Select")==-1&&$(
"#multicityto5").val().indexOf("Select")==-1&&$(".seltd").text()=="All "&&$(".dropdivider").text()==""||$("#pageval").
val()=="modify")if($("#multicityfrom0").val().indexOf("Select")==-1&&$("#multicityto0").val().indexOf("Select")==-1||$(
"#multicityfrom1").val().indexOf("Select")==-1&&$("#multicityto1").val().indexOf("Select")==-1||$("#multicityfrom2").val
().indexOf("Select")==-1&&$("#multicityto2").val().indexOf("Select")==-1||$("#multicityfrom3").val().indexOf("Select")==
-1&&$("#multicityto3").val().indexOf("Select")==-1||$("#multicityfrom4").val().indexOf("Select")==-1&&$("#multicityto4")
.val().indexOf("Select")==-1||$("#multicityfrom5").val().indexOf("Select")==-1&&$("#multicityto5").val().indexOf(
"Select")==-1)EnableAirlinePrefence=true;else EnableAirlinePrefence=false;else{EnableAirlinePrefence=false;if($(
"#multicityfrom0").val().indexOf("Select")==-1&&$("#multicityto0").val().indexOf("Select")==-1||$("#multicityfrom1").val
().indexOf("Select")==-1&&$("#multicityto1").val().indexOf("Select")==-1||$("#multicityfrom2").val().indexOf("Select")==
-1&&$("#multicityto2").val().indexOf("Select")==-1||$("#multicityfrom3").val().indexOf("Select")==-1&&$("#multicityto3")
.val().indexOf("Select")==-1||$("#multicityfrom4").val().indexOf("Select")==-1&&$("#multicityto4").val().indexOf(
"Select")==-1||$("#multicityfrom5").val().indexOf("Select")==-1&&$("#multicityto5").val().indexOf("Select")==-1)$(
".multidropdown-cont").show()}if(EnableAirlinePrefence==true){var i="",k="",m=[],n=[];for(var a=0;a<6;a++){if($(
"#multicityfrom"+a).val()!=""&&$("#multicityfrom"+a).val().indexOf("Select")==-1)i=$("#multicityfrom"+a).val().split("["
)[1].replace("]","");if($("#multicityto"+a).val()!=""&&$("#multicityto"+a).val().indexOf("Select")==-1)k=$(
"#multicityto"+a).val().split("[")[1].replace("]","");m.push(i);n.push(k);i="";k=""}var s=SelectPreferedAirlines();$(
".option").each(function(){$(this).prop("checked",false)});$(".multisb-text").focus();var p={to:n,from:m};$.ajax({url:
"/Flight/FindPreferedAirlinesMulticity/",type:"Post",cache:false,data:JSON.stringify(p),datatype:"json",contentType:
"application/json; charset=utf-8",success:function(f){if(f!=null&&f.length>0){var g="";$.each(f,function(e,d){if(s.
indexOf("All")==-1)g=g+'<label class="dropdivider"> <INPUT NAME="options"   class="option"  TYPE="CHECKBOX" VALUE="'+d+
'"'+(s.indexOf(d)>-1?"checked":"checked")+">"+d+"<BR></label>";else g=g+
'<label class="dropdivider"> <INPUT NAME="options"   class="option"  TYPE="CHECKBOX" VALUE="'+d+'" checked="checked" >'+
d+"<BR></label>"});$("#dropdownMulticityAirlinePreference").html(g);$(".multidropdown-cont").show();if($("#pageval").val
()=="modify"){$(".option").each(function(){$(this).prop("checked",false)});selval=$("#MulticityAirlinePreference").val()
;$(".option").each(function(){var e=this.value;for(var d=0;d<selval.split(",").length-1;d++)if(selval.split(",")[d]==
this.value)$(this).prop("checked",true)});if($.trim(selval.split(",")[0])=="All")$(".option").each(function(){$(this).
prop("checked",true)})}}}})}$("#MulticityAirlinePreference").val(SelectPreferedAirlines());selectboxstyle()});jQuery.fn.
justtext=function(){return $(this).clone().children().remove().end().text()};function v(d){var e=$(d).val();if(e.length>
0)$(".dropdown > label").each(function(){var a=$.trim($(this).text().toLowerCase());if(a.substring(0,e.length)==e.
toLowerCase()){}else{$(".dropdown").append($(this).clone());$(this).remove()}});else r(".dropdown")}function r(i){var e=
[],g=[];$(".option").each(function(){e.push($(this).parent().clone());g.push($(this).parent().text())});g.sort();$(
".dropdown").text("");for(var f=0;f<g.length;f++)for(var a=0;a<e.length;a++)if($.trim(g[f])==$.trim(e[a].text()))$(
".dropdown").append(e[a])}function w(d){var e=$(d).val();if(e.length>0)$(".multidropdown > label").each(function(){var a
=$.trim($(this).text().toLowerCase());if(a.substring(0,e.length)==e.toLowerCase()){}else{$(".multidropdown").append($(
this).clone());$(this).remove()}});else r(".multidropdown")}function r(i){var e=[],g=[];$(".option").each(function(){e.
push($(this).parent().clone());g.push($(this).parent().text())});g.sort();$(".multidropdown").text("");for(var f=0;f<g.
length;f++)for(var a=0;a<e.length;a++)if($.trim(g[f])==$.trim(e[a].text()))$(".multidropdown").append(e[a])}$(".sb-text"
).keyup(function(){v($(this))});$(".multisb-text").keyup(function(){w($(this))});$(document).on("click",".option",
function(e){if($(".radio-inp:checked").val()!="M"){$(".seltd").remove();$(".option").each(function(){if(this.checked==
true)$(".selectbox input:last").before('<div class="seltd">'+$(this).attr("value")+
'<div class="sel-close">x</div> </div>')});$(".sb-text").focus();var a=0;$(".option").each(function(){if($(this).prop(
"checked"))a+=1});if($(this).prop("checked"))if($(".seltd").text()=="All x "){$(".sb-text").val("");$(
".selectbox input:last").before('<div class="seltd">'+$(this).attr("value")+'<div class="sel-close">x</div> </div>')}
else $(".sb-text").val("");else{var d=$(this).attr("value");$(".seltd").each(function(){if($.trim($(this).justtext())==$
.trim(d))$(this).remove()})}if($(".option").length==a){$(".seltd").remove();$(".selectbox").prepend(
'<div class="seltd">All </div>')}selectboxstyle()}else{$(".seltd").remove();$(".option").each(function(){if(this.checked
==true)$(".multiselectbox input:last").before('<div class="seltd">'+$(this).attr("value")+
'<div class="sel-close">x</div> </div>')});$(".multisb-text").focus();var a=0;$(".option").each(function(){if($(this).
prop("checked"))a+=1});if($(this).prop("checked"))if($(".seltd").text()=="All x "){$(".multisb-text").val("");$(
".multiselectbox input:last").before('<div class="seltd">'+$(this).attr("value")+'<div class="sel-close">x</div> </div>'
)}else $(".multisb-text").val("");else{var d=$(this).attr("value");$(".seltd").each(function(){if($.trim($(this).
justtext())==$.trim(d))$(this).remove()})}if($(".option").length==a){$(".seltd").remove();$(".multiselectbox").prepend(
'<div class="seltd">All </div>')}selectboxstyle()}});$(document).on("click",".sel-close",function(d){if($(
".radio-inp:checked").val()!="M"){if($("#From").val().indexOf("Type")==-1&&$("#To").val().indexOf("Type")==-1){$(this).
parent().remove();var a=$.trim($(this).parent().justtext());$(".option").each(function(){if($.trim($(this).attr("value")
)==$.trim(a))$(this).prop("checked",false)});$(".advsrchbox").height("auto");$(".dropdown-cont").stop(true,false).
animate({marginTop:$(".selectbox").outerHeight()+$(".advsrchbox label").outerHeight()+"px"},300,"easeInOutCubic");$(
"#AirlinePreference").val(SelectPreferedAirlines())}}else if($("#multicityfrom0").val().indexOf("Select")==-1&&$(
"#multicityto0").val().indexOf("Select")==-1||$("#multicityfrom1").val().indexOf("Select")==-1&&$("#multicityto1").val()
.indexOf("Select")==-1||$("#multicityfrom2").val().indexOf("Select")==-1&&$("#multicityto2").val().indexOf("Select")==-1
||$("#multicityfrom3").val().indexOf("Select")==-1&&$("#multicityto3").val().indexOf("Select")==-1||$("#multicityfrom4")
.val().indexOf("Select")==-1&&$("#multicityto4").val().indexOf("Select")==-1||$("#multicityfrom5").val().indexOf(
"Select")==-1&&$("#multicityto5").val().indexOf("Select")==-1){$(this).parent().remove();var a=$.trim($(this).parent().
justtext());$(".option").each(function(){if($.trim($(this).attr("value"))==$.trim(a))$(this).prop("checked",false)});$(
".multiadvsrchbox").height("auto");$(".multidropdown-cont").stop(true,false).animate({marginTop:$(".multiselectbox").
outerHeight()+$(".multiadvsrchbox label").outerHeight()+"px"},300,"easeInOutCubic");$("#MulticityAirlinePreference").val
(SelectPreferedAirlines())}});$(document).on("click",".drop-chkall",function(a){if($(".radio-inp:checked").val()!="M"){$
(".seltd").remove();$(".selectbox").prepend('<div class="seltd">All </div>');$(".option").each(function(){$(this).prop(
"checked",true)});selectboxstyle()}else{$(".seltd").remove();$(".multiselectbox").prepend(
'<div class="seltd">All </div>');$(".option").each(function(){$(this).prop("checked",true)});selectboxstyle()}});$(
document).on("click",".drop-unchkall",function(a){if($(".radio-inp:checked").val()!="M"){$(".seltd").remove();$(
".option").each(function(){$(this).prop("checked",false)});selectboxstyle();if($(".selectbox").outerHeight()>47)$(
".dropdown-cont").stop(true,false).animate({marginTop:$(".selectbox").outerHeight()+$("..advsrchbox label").outerHeight(
)+"px"},300,"easeInOutCubic");$(".sb-text").focus()}else{$(".seltd").remove();$(".option").each(function(){$(this).prop(
"checked",false)});selectboxstyle();if($(".multiselectbox").outerHeight()>47)$(".multidropdown-cont").stop(true,false).
animate({marginTop:$(".multiselectbox").outerHeight()+$("..multiadvsrchbox label").outerHeight()+"px"},300,
"easeInOutCubic");$(".multisb-text").focus()}});$(document).on("click",".drop-close",function(a){if($(
".radio-inp:checked").val()!="M")$(".dropdown-cont").hide();else $(".multidropdown-cont").hide()});$(document).click(
function(a){if($(".radio-inp:checked").val()!="M"){if(!$(a.target).hasClass("dropdown-cont")&&!$(a.target).parents().
hasClass("dropdown-cont")&&!$(a.target).hasClass("selectbox")&&!$(a.target).parents().hasClass("selectbox")&&!$(a.target
).parents().hasClass("seltd"))$(".dropdown-cont").hide()}else if(!$(a.target).hasClass("multidropdown-cont")&&!$(a.
target).parents().hasClass("multidropdown-cont")&&!$(a.target).hasClass("multiselectbox")&&!$(a.target).parents().
hasClass("multiselectbox")&&!$(a.target).parents().hasClass("seltd"))$(".multidropdown-cont").hide()});selectboxstyle();
$(".mlti-add").click(function(){$(".footer-main").css({position:"static",float:"left"});$("#multicity"+(num_of_cities+1)
).css("display","block");if(num_of_cities<=4){$(".multi-box-cont").stop(true,true).animate({height:$(".multi-box-cont").
height()+$(".mlti-box:eq("+num_of_cities+")").outerHeight()},600,function(){});if(!isfirstload)$(".tab-disply").stop(
true,true).animate({height:$(".mlti-box:eq("+num_of_cities+")").outerHeight()},600,function(){});$(".mlti-close:eq("+
num_of_cities+")").fadeIn(300)}else{$(".mlti-add-wrap").fadeOut(300);$(".mlti-close:eq("+num_of_cities+")").fadeIn(300)}
num_of_cities=1+parseInt(num_of_cities);if(num_of_cities>2)$(".mlti-close:eq(0),.mlti-close:eq(1)").fadeIn(300);var a=
parseInt(num_of_cities)-2,d=parseInt(num_of_cities)-1;if($("#MultiCityDeparture"+a).val().indexOf("/mm")==-1&&
ismodifysearchfirstclick!=false)$("#MultiCityDeparture"+d).val($("#MultiCityDeparture"+a).val());resize_search()});$(
".mlti-close").click(function(){if(!$(".multi-box-cont").is(":animated")){for(a=$(this).index(".mlti-close");a<=4;a++){$
(".mlty-from-dv:eq("+a+") input").val($(".mlty-from-dv:eq("+(a+1)+") input").val());if($(".mlty-from-dv:eq("+a+") input"
).val()=="Select Departure City")$(".mlty-from-dv:eq("+a+") input").val("Select  Departure City");$(".mlty-to-dv:eq("+a+
") input").val($(".mlty-to-dv:eq("+(a+1)+") input").val());if($(".mlty-to-dv:eq("+a+") input").val()==
"Select  Destination City")$(".mlty-to-dv:eq("+a+") input").val("Select  Destination City");$(".mlty-departs:eq("+a+
") input").val($(".mlty-departs:eq("+(a+1)+") input").val());if($(".mlty-departs:eq("+a+") input").val()==
"Select Destination City")$(".mlty-to-dv:eq("+a+") input").val("Select  Destination City");MulticityValidation(a,
"removecurrent");if(a==0||a==1){if($(".mlty-to-dv:eq("+a+") input").val().indexOf("Select  D")!=-1)$(".mlty-to-dv:eq("+a
+") input").val("Select Destination City");if($(".mlty-from-dv:eq("+a+") input").val().indexOf("Select  D")!=-1)$(
".mlty-from-dv:eq("+a+") input").val("Select Departure City")}}MulticityValidation(a,"removecurrent");for(var a=$(this).
index(".mlti-close");a<=5;a++)if(a!=0){var d=parseInt(a)-1,e="";if($("#MultiCityDeparture"+d).val()!=undefined&&$(
"#MultiCityDeparture"+d).val()!=""){$("#MultiCityDeparture"+a).datepicker("option","minDate",$("#MultiCityDeparture"+d).
val());e=$("#MultiCityDeparture"+d).val()}else{d=parseInt(d-1);$("#MultiCityDeparture"+a).datepicker("option","minDate",
$("#MultiCityDeparture"+d).val())}}$("#multicity"+num_of_cities).css("display","none");$(".mlty-from-dv:eq(5) input").
val("Select  Departure City");$(".mlty-to-dv:eq(5) input").val("Select  Destination City");if(num_of_cities>=6){$(
".mlti-add-wrap").fadeIn(300);$(".mlti-close:eq("+(num_of_cities-1)+")").fadeOut(300)}else{$(".multi-box-cont").stop(
true,true).animate({height:$(".multi-box-cont").height()-$(".mlti-box:eq("+num_of_cities+")").outerHeight()},600,
function(){});$(".flight-search").stop(true,true).animate({height:$(".flight-search").height()-$(".mlti-box:eq("+
num_of_cities+")").outerHeight()+5},600,function(){});$(".mlti-close:eq("+(num_of_cities-1)+")").fadeOut(300)}
num_of_cities-=1;if(num_of_cities<=2){$(".mlti-close").fadeOut(300);$(".footer-main").css({position:"absolute",float:
"none"});resize_search()}}});$(".mlty-fieldwidth").autocomplete({source:$("#domTab").children("h2").hasClass(
"domestic-btn")&&$("#intTab").children("h2").hasClass("international-btn")?"/Flight/FindAllSectors":
"/Flight/FindAllSectors",selectFirst:true,minLength:3,highlight:true,autoFill:true,cacheLength:10,autoFocus:true,close:
function(g,A){if($.browser.msie&&(parseInt($.browser.version,10)===8||parseInt($.browser.version,10)===7))u=true;var f=$
(this).data("uiAutocomplete"),o=f.menu,n=o.element.children(),y=f.term,x=false,p=g.target.id;$.each(n,function(e,d){if($
(d).text()==y){x=true;$("#"+p).val($(d).text());if(p.indexOf("multicityfrom")!=-1)if($("#multicityto"+g.target.id.
substring(g.target.id.length-1)).val()=="Select  Destination City")$("#multicityto"+g.target.id.substring(g.target.id.
length-1)).val("Select Destination City");if(p.indexOf("multicityto")!=-1)if($("#multicityfrom"+g.target.id.substring(g.
target.id.length-1)).val()=="Select  Departure City")$("#multicityfrom"+g.target.id.substring(g.target.id.length-1)).val
("Select Departure City");if($("#MultiCityDeparture"+g.target.id.substring(g.target.id.length-1)).val()=="dd/mm/yyyy"||$
("#MultiCityDeparture"+g.target.id.substring(g.target.id.length-1)).val()==" dd/mm/yyyy")$("#MultiCityDeparture"+g.
target.id.substring(g.target.id.length-1)).val("dd/mm/yyyy");MulticityValidation(g.target.id.substring(g.target.id.
length-1),"required");var a=p.substring(p.length-1);if(p.indexOf("multicityfrom")!=-1){if($("#multicityto"+a).val()==
"Select Destination City"||$("#multicityto"+a).val()==""){openstatus=true;if(g.which!="9")$("#multicityto"+a).focus()}
if($("#MultiCityDeparture"+a).val()=="dd/mm/yyyy")if($("#multicityto"+a).val()!="Select Destination City"&&$(
"#multicityto"+a).val()!="")if(g.which!="9")$("#MultiCityDeparture"+a).focus()}else if(p.indexOf("multicityto")!=-1){if(
$("#multicityfrom"+a).val()=="Select Departure City"||$("#multicityfrom"+a).val()=="")if(g.which!="9")$("#multicityfrom"
+a).focus();if($("#MultiCityDeparture"+a).val()=="dd/mm/yyyy"&&$("#multicityfrom"+a).val()!="Select Destination City"&&$
("#multicityfrom"+a).val()!="")if(g.which!="9")$("#MultiCityDeparture"+a).focus()}NavigateToTabFromMulticitySearch();
return false}})},change:function(a,d){if($("#From").val().indexOf("[")>1&&$("#From").val().indexOf("]")>1&&$("#To").val(
).indexOf("[")>1&&$("#To").val().indexOf("]")>1){}else{}},open:function(a,d){$("#fromDropDownDiv_MS0").css("display",
"none")}})});function split(a){return a.split(/,\s*/)}function extractLast(a){return split(a).pop()}function ChangeTab(a
){$(".seltd").remove();$(".selectbox").prepend('<div class="seltd">All </div>');$(".dropdivider").text("");$(".sb-text")
.val("");$(".option").each(function(){$(this).prop("checked",true)});selectboxstyle();$("#Departure").datepicker(
"option","minDate",0);$("#Departure").datepicker("option","maxDate",485);$("#Return").datepicker("option","minDate",0);$
("#Return").datepicker("option","maxDate",485);if(a=="I"){$("#intTab").removeClass("intern").addClass("domest");$(
"#domTab").removeClass("domest").addClass("intern");$("#SelectedSearchType").val("I");$("#From").val(
"Type Departure Location Here").autocomplete("option","source","/Flight/FindAllSectors/");$("#To").val(
"Type Arrival Location Here").autocomplete("option","source","/Flight/FindAllSectors/");$("#Departure").val("dd/mm/yyyy"
);$("#Return").val("dd/mm/yyyy");$("Label[for='To']").text("To (Any location world wide)");$("Label[for='From']").text(
"From (Any location world wide)");$("#multicitydiv").css("display","none");$("#searchdiv").css("display","");$(
"#TravelType").val("I")}else{$("#intTab").removeClass("domest");$("#intTab").addClass("intern");$("#domTab").removeClass
("intern");$("#domTab").addClass("domest");$("#SelectedSearchType").val("D");$("#From").val(
"Type Departure Location Here").autocomplete("option","source","/Flight/FindAllSectors/");$("#To").val(
"Type Arrival Location Here").autocomplete("option","source","/Flight/FindAllSectors/");$("#Departure").val("dd/mm/yyyy"
);$("#Return").val("dd/mm/yyyy");$("Label[for='From']").text("From (Any location in India)");$("Label[for='To']").text(
"To (Any location in India)");$("#multicityradio").css("display","");$("#multicitydiv").css("display","");$(
"#multicitydiv").css("display","none");$("#searchdiv").css("display","");$("#TravelType").val("D")}$(
"[name='SearchType']").prop("checked",false);$(":radio[value=O]").prop("checked",true);$("#Return").prop("disabled",
"disabled");refresh_radio_buttons();ClearPreferedAirlines()}function setSector(){var c=":",a="";if(document.cookie!="")a
=$("#From").val()+":"+$("#To").val()+":###";else a=$("#From").val()+":"+$("#To").val()+":###";var b="Cookie";index1=
document.cookie!=document.cookie?document.cookie.indexOf(b):-1;if(index1==-1)document.cookie=b+"="+a+"; domain="+$(
"#domain").val()+"; path=/; version="+document.lastModified+"; max-age=604800"}function reset_more(){$("#mordropdown").
css({display:"none"});$(".mor-link").removeClass("selected")}function reset_hol(){$("#mordropdown-hol").css({display:
"none"});$(".mor-link-hol").removeClass("selected")}var des;function showReturn(a){infantvalidChking(false);if($(
"#IsMultiCity").val()=="True"){$("#From").val("Type Departure Location Here");$("#To").val("Type Arrival Location Here")
;$("#Departure").val("dd/mm/yyyy");$("#Infants").next(".homeStyleSelectBox").children().html("0");$("#Infants").val("0")
;$("#Infants").change();$("#Adults").next(".homeStyleSelectBox").children().html("1");$("#Adults").val("1");$("#Adults")
.change();$("#Chindren").next(".homeStyleSelectBox").children().html("0");$("#Chindren").val("0");$("#Chindren").change(
)}MulticityValidation(1,"removeAll");if($("#dropdownMulticityAirlinePreference").children().length>0){$(
"#dropdownAirlinePreference").html("");$("#dropdownMulticityAirlinePreference").html("")}$("#searchdiv").css("display",
"");$("#multicitydiv").css("display","none");SearchRtn=a=="hidden"?0:1;des="disabled";des=a=="hidden"?"disabled":"";if($
("#Return").val()!="dd/mm/yyyy")return_selected=true;if(des)$("#rtnBlck").show();else $("#rtnBlck").hide();$("#Return").
prop("disabled",des);if(a=="hidden"){$("#Return").addClass("calendarfield-disable");$("#Return").removeClass("error");$(
"#Return").removeClass("calendarfield-mdfy");$("#ReturnTime").next("span").addClass("disbled");$("#ReturnTime").
removeClass("ret-time");$("#Departure").datepicker("option","maxDate",485);if($("#Departure").val()=="")$("#Departure").
val("dd/mm/yyyy");$("#SearchType").val("O");return_selected=false}else{$("#Return").removeClass("calendarfield-disable")
;$("#Return").addClass("calendarfield-mdfy");$("#ReturnTime").next("span").removeClass("disbled");$("#ReturnTime").
addClass("ret-time");$("#Return").datepicker("option","minDate",$("#Departure").val());if($("#pageval").val()!="modify")
{$("#Return").val($("#Departure").val());return_selected=true}$("#SearchType").val("R")}$("#ReturnTime").prop("disabled"
,des);if(return_selected==false)$("#Return").val("dd/mm/yyyy");if($("#To").val()!=""&&$("#To").val()!=
"Type Arrival Location Here"&&$("#From").val()!=""&&$("#From").val()!="Type Departure Location Here"&&$("#Departure").
val()!="dd/mm/yyyy"&&$("#Departure").val()!=""&&($("#Return").val()=="dd/mm/yyyy"||$("#Return").val()==""||$("#Return").
val()==$("#Departure").val())&&des==""&&return_selected==false)$("#Return").focus();resize_search()}function 
IsValidSearch(){var c=$("#domTab").hasClass("tab-domstc tab-domstc-sel flt-lft")&&$("#intTab").hasClass(
"tab-int flt-lft")?"D":"I",b=$("#To").val(),a=$("#From").val();return c=="D"?a.split(",").length==2&&b.split(",").length
==2?a.split(",")[1].toLowerCase().indexOf("india")!=-1&&b.split(",")[1].toLowerCase().indexOf("india")!=-1?"":
"Both sectors should be domestic":"":a.split(",").length==2&&b.split(",").length==2?a.split(",")[1].toLowerCase().
indexOf("india")!=-1&&b.split(",")[1].toLowerCase().indexOf("india")!=-1?"":"":""}function ValidateForOKToBoard(d){var b
=false,e=d.split(",")[1].split("[")[0].trim(),c=$("#hdnOKToBoard").val().split(",");$.each(c,function(f,a){if(e.
toLowerCase()==a.toLowerCase())b=true});isValidatedOKToBoard=false;isValidatedMultiCityOKToBoard=false;return b}function
 ConfirmOKTOBOARD(b,a){if(b=="OK"){isValidatedOKToBoard=true;enableSrchTabChg=false;$("#divOKTOBOARDMsg").dialog("close"
);startSearch(a)}}function ShowOKTOBoardPopUp(b,c){var a="<div class='msg-pop-row-in'>";a+=
"Certain airlines require OK TO BOARD message to be added  in the bookings  and without which passengers may not be allowed to travel."
;a+=
"Adding  OK TO BOARD message is the responsibility of the passenger.  Please contact  your visa issuing authority or respective airlines for clarification."
;a+="<div class='clear'></div>";if(c){a+="<div class='msg-pop-row-in'>";a+=
"<b>Note: </b>You have selected Dubai as arrival city, however your search results may also display discounted airfares for Sharjah.Kindly select your flight and arrival airport as per your preference."
;a+="<div class='clear'></div>"}a+="<div class ='msgbtn-row-newcenter'>";a+=
"<div class='msgbtn-row-left'><div class='bookbt' onclick='ConfirmOKTOBOARD(\"OK\",\""+b+"\")'><a >OK</a></div> </div>";
a+="</div>";a+="</div>";$("#divOKTOBOARDMsg").html(a);$("#divOKTOBOARDMsg").css("display","block");$("#divOKTOBOARDMsg")
.dialog({modal:true,width:462,title:"OK TO BOARD Message"});$("#divOKTOBOARDMsg").dialog("open")}function 
ShowDMSBusServiceMesgePopUp(b){var a="<div class='msg-pop-row-in'>";a+=
"Female passengers are not allowed to travel alone (should be accompanied with a male passenger) on the BAH-DMS (vice versa) Bus service"
;a+="<div class='clear'></div>";a+="<div class ='msgbtn-row-newcenter'>";a+=
"<div class='msgbtn-row-left'><div class='bookbt' onclick='ConfirmBusServiceMesg(\"OK\",\""+b+
"\")'><a >OK</a></div> </div>";a+="</div>";a+="</div>";$("#divDMSBusServiceMsg").html(a);$("#divDMSBusServiceMsg").css(
"display","block");$("#divDMSBusServiceMsg").dialog({modal:true,width:462,title:"DMS Bus Service"});$(
"#divDMSBusServiceMsg").dialog("open")}function ConfirmBusServiceMesg(b,a){if(b.toUpperCase()=="OK"){
isValidatedDMSBusService=true;$("#divDMSBusServiceMsg").dialog("close");startSearch(a)}}function startSearch(e){if(!
isValidatedOKToBoard){var n=ValidateForOKToBoard($("#To").val());if(n==true){var h=false;if($("#To").val().substring($(
"#To").val().indexOf("[")+1,$("#To").val().indexOf("]")).toLowerCase()=="dxb"){enableSrchTabChg=false;h=true}
ShowOKTOBoardPopUp(e,h);return}}if(!isValidatedDMSBusService){var l=$("#To").val().substring($("#To").val().indexOf("[")
+1,$("#To").val().indexOf("]")),j=$("#From").val().substring($("#From").val().indexOf("[")+1,$("#From").val().indexOf(
"]"));if(l.toLowerCase().trim()=="dms"||j.toLowerCase().trim()=="dms"){ShowDMSBusServiceMesgePopUp(e);return}}$(
"#AirlinePreference").val(SelectPreferedAirlines());$("#SearchCount").val("1");$("#multicityfrom0").val($("#From").val()
);$("#multicityto0").val($("#To").val());$("#hdnpreffered").val($(".seltd").text());$("#MulticityAirlinePreference").val
(SelectPreferedAirlines());$("#hdnMultipreffered").val($(".seltd").text());var a=$("#To").val(),b=$("#From").val();b=b.
substring(b.indexOf("[")+1,b.indexOf("]"));a=a.substring(a.indexOf("[")+1,a.indexOf("]"));var c=false;if((a.toLowerCase(
)=="jed"||b.toLowerCase()=="jed")&&c==false)if(a.toLowerCase()=="jed"){c=true;alert(
"NOTE:  \u201CONLY UMRAH PAX ARE ALLOWED TO TRAVEL ON 4 DIGIT FLIGHTS.  \n\nUMRAH passengers are not permitted to transit via RIYADH or DAMMAM on Saudi Airlines. Please book direct flights to Jeddah or Madinah.UMRAH passenger on Saudi Airline should be booked in B class and above only.\n\nOn AIR ARABIA, only UMRAH Visa holders and GCC Nationals (except Saudi Nationals) are permitted to travel to and from JEDDAH.\n\nOn Fly Dubai, During Hajj,Muslim passengers can only travel to jeddah & Medinah on Hajj visa Not on Business & Tourist Visa, Non-Muslims passengers can travel to jeddah & Medinah on Tourist or Business Visa.\u201D"
)}else{c=true;alert(
"NOTE:  \u201CONLY UMRAH PAX ARE ALLOWED TO TRAVEL ON 4 DIGIT FLIGHTS.  \n\nUMRAH passengers are not permitted to transit via RIYADH or DAMMAM on Saudi Airlines. Please book direct flights to Jeddah or Madinah.UMRAH passenger on Saudi Airline should be booked in B class and above only.\n\nOn AIR ARABIA, only UMRAH Visa holders and GCC Nationals (except Saudi Nationals) are permitted to travel to and from JEDDAH.\n\nOn Fly Dubai, During Hajj,Muslim passengers can only travel to jeddah & Medinah on Hajj visa Not on Business & Tourist Visa, Non-Muslims passengers can travel to jeddah & Medinah on Tourist or Business Visa.\u201D"
)}if((b.toLowerCase()=="med"||a.toLowerCase()=="med")&&c==false){c=true;alert(
"NOTE:  \u201CUMRAH passengers are not permitted to transit via RIYADH or DAMMAM on Saudi Airlines. Please book direct flights to Jeddah or Madinah.UMRAH passenger on Saudi Airline should be booked in B class and above only.\n\n On AIR ARABIA, only UMRAH Visa holders and GCC Nationals (except Saudi Nationals) are permitted to travel to and from JEDDAH.\n\nOn Fly Dubai, During Hajj,Muslim passengers can only travel to jeddah & Medinah on Hajj visa Not on Business & Tourist Visa, Non-Muslims passengers can travel to jeddah & Medinah on Tourist or Business Visa.\u201D"
)}if(enableSrchTabChg)a.toLowerCase()=="dxb"&&alert(
"You have selected Dubai as arrival city, however your search results may also display discounted airfares for Sharjah.Kindly select your flight and arrival airport as per your preference."
);a.toLowerCase()=="bgw"&&alert("\u201DOK TO BOARD\u201D MESSAGE IS COMPULSORY FOR ALL TRAVEL TO IRAQ.");a.toLowerCase()
=="njf"&&alert("\u201DOK TO BOARD\u201D MESSAGE IS COMPULSORY FOR ALL TRAVEL TO IRAQ.");a.toLowerCase()=="bsr"&&alert(
"\u201DOK TO BOARD\u201D MESSAGE IS COMPULSORY FOR ALL TRAVEL TO IRAQ.");$("#To").val().indexOf("Type")!=-1&&$("#To").
val("");$("#From").val().indexOf("Type")!=-1&&$("#From").val("");$("#Departure").val().indexOf("dd")!=-1&&$("#Departure"
).val("");var d="",k="",g="",f="";if($("#domTab").hasClass("domest"))d="Domestic";else if($("#intTab").hasClass("domest"
))d="International";if($("#Return").val()=="dd/mm/yyyy"){g="Oneway";f=""}else{g="Roundtrip";f=$("#Return").val()}k=
"Product:Flight|TripType:"+g+"|Category:"+d+"|From:"+$("#From").val()+"|To:"+$("#To").val()+"|OnwDt:"+$("#Departure").
val()+"|RtnDt:"+f+"|TravelClass:"+$("#TravelClass").val()+"|DeptTime:"+$("#DepartureTime").val()+"|RtnTime:"+$(
"#ReturnTime").val()+"|AirlinePref:"+$("#dropdownAirlinePreference").val()+"|AdltCount:"+$("#Adults").val()+
"|ChildCount:"+$("#Chindren").val()+"|InfantCount:"+$("#Infants").val();var i=IsValidSearch();if(i!="")alert(i);else if(
$("#searchform").valid()){setSector();if($('[name="SearchType"]:checked').val()=="R")SearchRtn=1;if(SearchRtn==1){var m=
$("#From").val().toLowerCase().split(",")[$("#From").val().toLowerCase().split(",").length-1],o=$("#To").val().
toLowerCase().split(",")[$("#To").val().toLowerCase().split(",").length-1];if($("#Return").val()==""){$("#spnRtn").html(
"Return Date Required");return false}else if(m.indexOf("india")!=-1&&o.indexOf("india")!=-1&&e!="PN"){$("#FareType").val
("N");document.forms.searchform.submit();return true}else{$("#FareType").val("N");document.forms.searchform.submit();
return true}}else{if($("#searchform").valid()){$("#FareType").val("N");document.forms.searchform.submit();return true}
return false}}}function SetHotelFromLi(a){from_clicked_flag=0;var b=a.innerHTML;if(a.id.indexOf("From")!=-1){$(
"#fromDropDownDiv").css("display","none");$("#From").val(b);if($("#To").val()==""||$("#To").val()==
"Type Arrival Location Here")$("#To").focus();else if($("#Departure").val()=="dd/mm/yyyy"||$("#Departure").val()=="")$(
"#Departure").focus();else if($("#Return").val()=="dd/mm/yyyy"||$("#Return").val()=="")$("#Return").focus()}else if(a.id
.indexOf("To")!=-1){$("#toDropDownDiv").css("display","none");$("#To").val(b);if($("#From").val()==""||$("#From").val()
=="Type Departure Location Here")$("#From").focus();else if($("#Departure").val()=="dd/mm/yyyy"||$("#Departure").val()==
"")$("#Departure").focus();else if($("#Return").val()=="dd/mm/yyyy"||$("#Return").val()=="")$("#Return").focus()}var c=
IsValidSearch();if(c!=""){$("#validMsgDiv").html(c);$("#validMsgDiv").css("display","block")}else{$("#validMsgDiv").css(
"display","none");$("#validMsgDiv").html("")}NavigateToTabFromSearch()}function NavigateToTabFromSearch(){var e=
"/Flight/GetAllAirports";$.ajax({url:e,cache:false,dataType:"json",success:function(c){if(c!=null&&c.length>0){var b="",
a="";if($("#From").val()!=""||$("#From").val()!="Type Departure Location Here"){b=$.grep(c,function(f){return f.CityName
==$("#From").val().split("-")[0].trim()});b=b!=""?b[0].Country.toUpperCase()=="INDIA"?"D":"I":"D"}if($("#To").val()!=""
||$("#To").val()!="Type Departure Location Here"){a=$.grep(c,function(f){return f.CityName==$("#To").val().split("-")[0]
.trim()});a=a!=""?a[0].Country.toUpperCase()=="INDIA"?"D":"I":"D"}if(b.toUpperCase()=="I"||a.toUpperCase()=="I"){$(
"#intTab").removeClass("intern").addClass("domest");$("#domTab").removeClass("domest").addClass("intern")}else{$(
"#domTab").removeClass("intern").addClass("domest");$("#intTab").removeClass("domest").addClass("intern")}}}})}function 
ChangeLiColorBack(a){a.style.backgroundColor="#fff";a.style.color="#525252"}function ChangeLiColor(a){a.style.
backgroundColor="#9fd6ff";a.style.color="#525252"}function SubscribeNewsLetter(){$("#news").dialog("open")}function 
SaveEmailId(){document.getElementById("nwsLtrEmail").style.display="none";if($("#newsLetterForm").valid()){var c=
document.getElementById("newsletter").value,b={Email:c,Type:"",timestamp:Date().toString()};$.getJSON(
"/Utility/SubscribeNewsLetter",b,function(a){if(a=="Success"){document.getElementById("nwsLtrEmail").innerHTML=
"<div class='newslettersuccess'><div class='newssuccessimg hmsprite'></div><div class='newssuccesstxt'>You have Successfully Subscribed !!</div></div>"
;document.getElementById("nwsLtrEmail").style.display="block";document.getElementById("newsletter").value=""}else{
document.getElementById("nwsLtrEmail").innerHTML=
"<div class='newslettererror'><div class='newserrorimg hmsprite'></div><div class='newserrortxt'>"+a+"</div></div>";
document.getElementById("nwsLtrEmail").style.display="block"}})}}function FromOnFocus(b){var a=$(b);if(a.hasClass(
"error"))try{a.tooltip("destroy");a.prop("title","").removeClass("error")}catch(c){}}function ToOnFocus(b){var a=$(b);
if(a.hasClass("error"))try{a.tooltip("destroy");a.attr("title","").removeClass("error")}catch(c){}}function 
SelectPreferedAirlines(){var b="";if($(".radio-inp:checked").val()!="M"){var c=$(".selectbox> div").length;if(c>0)if(c==
1&&$.trim($(".selectbox> div")[0].innerHTML)=="All")b="All";else for(var a=0;a<c;a++)b=b+$(".selectbox> div")[a].
innerHTML.substring(0,$(".selectbox> div")[a].innerHTML.indexOf("<div"))+","}else{var c=$(".multiselectbox> div").length
;if(c>0)if(c==1&&$.trim($(".multiselectbox> div")[0].innerHTML)=="All")b="All";else for(var a=0;a<c;a++)b=b+$(
".multiselectbox> div")[a].innerHTML.substring(0,$(".multiselectbox> div")[a].innerHTML.indexOf("<div"))+","}return b}
function ClearPreferedAirlines(){if($(".seltd").text()!=""&&$(".seltd").text()!="All x "){$(".sb-text").val("");$(
".seltd").remove();$(".selectbox").prepend('<div class="seltd">All </div>')}}function selectboxstyle(){if($(
".radio-inp:checked").val()!="M"){if(parseInt($(".selectbox").height("auto").height())>100){$(".selectbox").removeClass(
"hght-auto");$(".selectbox").addClass("ovrflw-scr").height("100px");$(".selectbox").css({background:"none"})}else{$(
".selectbox").addClass("hght-auto");$(".selectbox").removeClass("ovrflw-scr");$(".selectbox").css({background:
'url("/content/images/ak/v1.0/Common/arrow.gif") no-repeat scroll right top rgba(0, 0, 0, 0)'})}$(".advsrchbox").height(
"auto");$(".dropdown-cont").stop(true,false).animate({marginTop:$(".selectbox").outerHeight(true)+13+"px"},300,
"easeInOutCubic")}else{if(parseInt($(".multiselectbox").height("auto").height())>100){$(".multiselectbox").removeClass(
"hght-auto");$(".multiselectbox").addClass("ovrflw-scr").height("100px");$(".multiselectbox").css({background:"none"})}
else{$(".multiselectbox").addClass("hght-auto");$(".multiselectbox").removeClass("ovrflw-scr");$(".multiselectbox").css(
{background:'url("/content/images/ak/v1.0/Common/arrow.gif") no-repeat scroll right top rgba(0, 0, 0, 0)'})}$(
".multiadvsrchbox").height("auto");$(".multidropdown-cont").stop(true,false).animate({marginTop:$(".multiselectbox").
outerHeight(true)+13+"px"},300,"easeInOutCubic")}}function checkall(){var a=0;$(".option").each(function(){if($(this).
prop("checked"))a+=1});if($(".option").length==a)chk=true;else chk=false;if(chk==true){$(".sb-text").val("");$(".seltd")
.remove();$(".selectbox").prepend('<div class="seltd">All </div>')}}function showMultiCity(){RemoveValidationOnTabChange
();infantvalidChking(true);$("#Return").datepicker("hide");for(var a=0;a<6;a++)if(a<2){$("#multicityfrom"+a).val(
"Select Departure City");$("#multicityto"+a).val("Select Destination City");$("#MultiCityDeparture"+a).val("dd/mm/yyyy")
}else{$("#multicityfrom"+a).val("Select  Departure City");$("#multicityto"+a).val("Select  Destination City");$(
"#MultiCityDeparture"+a).val(" dd/mm/yyyy")}$("#multicitydiv").css("display","");$("#searchdiv").css("display","none");
if($("#dropdownAirlinePreference").children().length>0){$("#dropdownMulticityAirlinePreference").html("");$(
"#dropdownAirlinePreference").html("")}resize_search();MulticityValidation(3,"required");resize_search()}$(
"#MultiCityAdult").change(function(){var i=$("#MultiCityChild").val(),k=$("#MultiCityAdult").val(),e=9-k,f=$(
"#MultiCityChild"),c=[];for(var a=0;a<=e;a++)if(a==i)c.push("<option value="+a+' selected="selected">'+a+"</option>");
else c.push("<option value="+a+">"+a+"</option>");f.html(c.join());if(e<i)f.next(".homeStyleSelectBox").children().html(
0);var h=$("#MultiCityInfant").val(),j=$("#MultiCityAdult").val(),g=$("#MultiCityInfant"),d=[];for(var b=0;b<=j;b++)if(b
==h)d.push("<option value="+b+' selected="selected">'+b+"</option>");else d.push("<option value="+b+">"+b+"</option>");g
.html(d.join());if(j<h)g.next(".homeStyleSelectBox").children().html(0)});function ConfirmMultiCityOKTOBOARD(a){if(a==
"OK"){isValidatedMultiCityOKToBoard=true;$("#divOKTOBOARDMsg").dialog("close");StartMultiCitySearch()}}function 
ShowMultiCityOKTOBoardPopUp(b){var a="<div class='msg-pop-row-in'>";a+=
"Certain airlines require OK TO BOARD message to be added  in the bookings  and without which passengers may not be allowed to travel."
;a+=
"Adding  OK TO BOARD message is the responsibility of the passenger.  Please contact  your visa issuing authority or respective airlines for clarification."
;a+="<div class='clear'></div>";if(b){a+="<div class='msg-pop-row-in'>";a+=
"<b>Note: </b>You have selected Dubai as arrival city, however your search results may also display discounted airfares for Sharjah.Kindly select your flight and arrival airport as per your preference."
;a+="<div class='clear'></div>"}a+="<div class ='msgbtn-row-newcenter'>";a+=
"<div class='msgbtn-row-left'><div class='bookbt' onclick='ConfirmMultiCityOKTOBOARD(\"OK\")'><a >OK</a></div> </div>";a
+="</div>";a+="</div>";$("#divOKTOBOARDMsg").html(a);$("#divOKTOBOARDMsg").css("display","block");$("#divOKTOBOARDMsg").
dialog({modal:true,width:462,title:"OK TO BOARD Message"});$("#divOKTOBOARDMsg").dialog("open")}function 
ShowMultiCityDMSBusServiceMesgePopUp(){var a="<div class='msg-pop-row-in'>";a+=
"Female passengers are not allowed to travel alone (should be accompanied with a male passenger) on the BAH-DMS (vice versa) Bus service"
;a+="<div class='clear'></div>";a+="<div class ='msgbtn-row-newcenter'>";a+=
"<div class='msgbtn-row-left'><div class='bookbt' onclick='ConfirmMultiCityBusServiceMesg(\"OK\")'><a >OK</a></div> </div>"
;a+="</div>";a+="</div>";$("#divDMSBusServiceMsg").html(a);$("#divDMSBusServiceMsg").css("display","block");$(
"#divDMSBusServiceMsg").dialog({modal:true,width:462,title:"DMS Bus Service"});$("#divDMSBusServiceMsg").dialog("open")}
function ConfirmMultiCityBusServiceMesg(a){if(a.toUpperCase()=="OK"){isValidatedMultiCityDMSBusService=true;$(
"#divDMSBusServiceMsg").dialog("close");StartMultiCitySearch()}}function StartMultiCitySearch(){if(!
isValidatedMultiCityOKToBoard){var m=false,n=false;for(var a=0;a<num_of_cities;a++)if($("#multicityto"+a).val().indexOf(
"Select")==-1){var t=ValidateForOKToBoard($("#multicityto"+a).val());if(t==true){if($("#multicityto"+a).val().substring(
$("#multicityto"+a).val().indexOf("[")+1,$("#multicityto"+a).val().indexOf("]")).toLowerCase()=="dxb")n=true;m=true}}if(
m==true){ShowMultiCityOKTOBoardPopUp(n);return}}if(!isValidatedMultiCityDMSBusService){var l=false;for(var a=0;a<
num_of_cities;a++){var r=$("#multicityto"+a).val().substring($("#multicityto"+a).val().indexOf("[")+1,$("#multicityto"+a
).val().indexOf("]")),p=$("#multicityfrom"+a).val().substring($("#multicityfrom"+a).val().indexOf("[")+1,$(
"#multicityfrom"+a).val().indexOf("]"));if(r.toLowerCase().trim()=="dms"||p.toLowerCase().trim()=="dms"){l=true;break}}
if(l){ShowMultiCityDMSBusServiceMesgePopUp();return}}MulticityValidation(3,"required");$("#MulticityAirlinePreference").
val(SelectPreferedAirlines());$("#hdnMultipreffered").val($(".seltd").text());for(var a=0;a<num_of_cities;a++){if($(
"#multicityfrom"+a).val().indexOf("Select Departure City")!=-1)$("#multicityfrom"+a).val("");if($("#multicityto"+a).val(
).indexOf("Select")==-1&&$("#multicityfrom"+a).val().indexOf("Select")!=-1){$("#multicityfrom"+a).val("");$(
"#multicityfrom"+a).addClass("error");$("#multicityfrom"+a).rules("add","required")}if(($("#multicityto"+a).val().
indexOf("Select")!=-1||$("#multicityto"+a).val()=="")&&($("#multicityfrom"+a).val().indexOf("Select")==-1&&$(
"#multicityfrom"+a).val()!="")){$("#multicityto"+a).val("");$("#multicityto"+a).addClass("error");$("#multicityto"+a).
rules("add","required")}else{$("#multicityto"+a).removeClass("error");$("#multicityto"+a).rules("remove")}if($(
"#MultiCityDeparture"+a).val().indexOf("/mm")!=-1&&$("#multicityfrom"+a).val().indexOf("Select")==-1&&$("#multicityto"+a
).val().indexOf("Select")==-1)$("#MultiCityDeparture"+a).val("");CheckinputValidation(a)}var f="",c="";if($("#domTab").
hasClass("domest"))f="Domestic";else if($("#intTab").hasClass("domest"))f="International";var k=0;for(var e=0;e<=5;e++){
if($("#multicityfrom"+e).val()=="Select  Departure City")break;k++}c="Product:Flight|TripType:Multicity|Category:"+f+"|"
;for(var b=0;b<k;b++){c+="From"+b+":"+$("#multicityfrom"+b).val()+"|";c+="To"+b+":"+$("#multicityto"+b).val()+"|";c+=
"OnwDt"+b+": "+$("#MultiCityDeparture"+b).val()+"|"}c+="AdltCount:"+$("#Adults").val()+"|ChildCount:"+$("#Chindren").val
()+"|InfantCount:"+$("#Infants").val()+"|TravelClass:"+$("#TravelClass").val();$("#Departure").val($(
"#MultiCityDeparture0").val());if($("#searchform").valid()){$("#SearchSector").val($("#TravelType").val());var g=0;for(
var d=0;d<6;d++)if($("#multicityfrom"+d).val().indexOf("Select")==-1&&$("#multicityto"+d).val().indexOf("Select")==-1)g=
g+1;num_of_cities=g;$("#SearchCount").val(num_of_cities);$("#From").val($("#multicityfrom0").val());$("#To").val($(
"#multicityto0").val());var s=$("#Infants"),q=$("#Chindren"),o=$("#Adults"),h=[],j=[],i=[];h.push("<option value="+$(
"#MultiCityInfant").val()+' selected="selected">'+$("#MultiCityInfant").val()+"</option>");s.html(h.join());j.push(
"<option value="+$("#MultiCityChild").val()+' selected="selected">'+$("#MultiCityChild").val()+"</option>");q.html(j.
join());i.push("<option value="+$("#MultiCityAdult").val()+' selected="selected">'+$("#MultiCityAdult").val()+
"</option>");o.html(i.join());$("#Infants").val($("#MultiCityInfant").val());$("#Adults").val($("#MultiCityAdult").val()
);$("#Chindren").val($("#MultiCityChild").val());$("#TravelClass").val($("#MultiCityTravelClass").val());$("#Departure")
.val($("#MultiCityDeparture0").val());$("#Return").val("");document.forms.searchform.submit();return true}}function 
CheckinputValidation(c){var a="multicityfrom"+c,b="multicityto"+c;if($("#"+a).val()!=""&&$("#"+a).val().indexOf("Select"
)==-1)validateairportnew(a);if($("#"+b).val()!=""&&$("#"+a).val().indexOf("Select")==-1)validateairportnew(b)}function 
validateairportnew(a){var c={Id:$("#"+a).val()};$.ajax({url:"/Flight/ValidateAirportNew",cache:false,dataType:"json",
data:c,async:false,success:function(b){if(b==false){$("#"+a).val("");$("#"+a).addClass("error");validationstatus=false;$
("#"+a).rules("add","required")}else validationstatus=true},error:function(b){}})}function MulticityValidation(b,c){if(c
=="required"){var d="https:"==document.location.protocol?"https://":"http://";d=d+window.location.host+
"/Flight/ValidateAirport";for(var a=0;a<=b;a++){if($("#multicityfrom"+a+"").val()=="Select Departure City"){$(
"#multicityfrom"+a+"").rules("add",{remote:{url:d,cache:false,dataType:"json"},messages:{remote:
"Please select a valid Departure City"}});$("#multicityfrom"+a+"").rules("add",{required:true,messages:{required:
"Please select a valid Departure City"}})}$("#multicityfrom"+a+"").rules("add",{notequalto:"#multicityto"+a+"",messages:
{notequalto:"From and To can't be same"}});if($("#multicityto"+a+"").val()=="Select Destination City"){$("#multicityto"+
a+"").rules("add",{notequalto:"#multicityfrom"+a+"",messages:{notequalto:"From and To can't be same"}});$("#multicityto"
+a+"").rules("add",{required:true,messages:{required:"Please select a valid Destination City"}});$("#multicityto"+a+"").
rules("add",{remote:{url:d,cache:false,async:true,dataType:"json"},messages:{remote:
"Please select a valid Destination City"}})}if($("#MultiCityDeparture"+a+"").val()=="dd/mm/yyyy"||$(
"#MultiCityDeparture"+a+"").val()==""){$("#MultiCityDeparture"+a+"").addClass("required");$("#MultiCityDeparture"+a+"").
rules("add",{required:true,messages:{required:"Invalid Date"}})}$("#From").addClass("ignore");$("#To").addClass("ignore"
);$("#Departure").addClass("ignore");$("#Infant").addClass("ignore")}}else if(c=="remove"||c=="removeAll"){if(c==
"removeAll"){b=0;$("#From").removeClass("ignore");$("#To").removeClass("ignore");$("#Departure").removeClass("ignore");$
("#Infant").removeClass("ignore")}for(var a=4;a>=b;a--){$("#multicityfrom"+a+"").removeClass("required");$(
"#multicityto"+a+"").removeClass("required");$("#MultiCityDeparture"+a+"").removeClass("required")}$("#Infant").
removeClass("notmorethan")}else if(c="removecurrent")if(b>1){$("#multicityfrom"+b+"").removeClass("required");$(
"#multicityfrom"+b+"").removeClass("error");$("#multicityfrom"+b+"").addClass("ignore");$("#multicityfrom"+b+"").rules(
"remove");$("#multicityto"+b+"").removeClass("required");$("#multicityto"+b+"").removeClass("error");$("#multicityto"+b+
"").addClass("ignore");$("#multicityto"+b+"").rules("remove");$("#MultiCityDeparture"+b+"").removeClass("required");$(
"#MultiCityDeparture"+b+"").removeClass("error");$("#MultiCityDeparture"+b+"").addClass("ignore");$(
"#MultiCityDeparture"+b+"").rules("remove")}}var getPriorityAirportsAjax;$(".mlty-fieldwidth").focus(function(){if($(
this).val!="")$("#fromDropDownDiv_MS0").css("display","none");if(parseInt($("#fromDropDownDiv_MS0").css("left"))!=
parseInt($(this).offset().left)&&autocomplete_flag==false){$("#toDropDownDiv").css("display","none");if($(this).val().
indexOf("Select")!=-1)$(this).val("");var b=this.id[this.id.length-1];$(this).autocomplete("close");var h=$("#domTab").
hasClass("dis-domest domest")&&$("#intTab").hasClass("dis-intern intern")||$("#domTab").hasClass("dis-intern domest")&&$
("#intTab").hasClass("dis-domest intern")?"D":"I",o={id:this.id.indexOf("from")==-1?"To*"+h:"from*"+h,timeStamp:new Date
()},i=this,p=i.id,b=$(this)[0].id,g=b.substring(b.length-1)-1;if(b.indexOf("multicityfrom")!=-1)if(g!=-1)if($(
"#multicityto"+g).val()!="Select Destination City"&&$("#multicityto"+g).val()!="Select  Destination City")if($("#"+b).
val()=="Select Departure City"||$("#"+b).val()=="Select  Departure City"||$("#"+b).val()=="")$("#"+b).val($(
"#multicityto"+g).val());MulticityValidation(b.substring(b.length-1),"required");if(getPriorityAirportsAjax)
getPriorityAirportsAjax.abort();getPriorityAirportsAjax=$.getJSON("/Flight/GetPriorityAirports",o,function(d){var j="",f
="",e="",k=h=="D"?"All Airports":"Important Airports",a="";if(d!=null)if(d.length>0){if(d[0]!=null)d[0].length>0&&$.each
(d[0],function(n,c){j=j+
"<li id='splListLiFrom' style='padding:2px 0 2px 5px; font-size:12px; line-height:20px;' onmouseover='ChangeLiColor(this)' onmouseout='ChangeLiColorBack(this)'"
;j=j+" onclick=SetFlightFromLiMultiCity('"+p+"',this)>";j=j+c+"</li>"});if(d[1]!=null)d[1].length>0&&$.each(d[1],
function(n,c){f=f+
"<li id='splListLiFrom' style='padding:2px 0 2px 5px; font-size:12px; line-height:20px;' onmouseover='ChangeLiColor(this)' onmouseout='ChangeLiColorBack(this)'"
;f=f+"  onclick=SetFlightFromLiMultiCity('"+p+"',this)>";f=f+c.CityName+" - "+c.Name+","+c.Country+" ["+c.Code+"]</li>";
if(c.AirportPriority=="1"&&h=="D"){e=e+
"<li id='splListLiFrom' style='padding:2px 0 2px 5px; font-size:12px; line-height:20px;' onmouseover='ChangeLiColor(this)' onmouseout='ChangeLiColorBack(this)'"
;e=e+"  onclick=SetFlightFromLiMultiCity('"+p+"',this)>";e=e+c.CityName+" - "+c.Name+","+c.Country+" ["+c.Code+"]</li>"}
});if(j!=""){a="<ul id='SectorsUlFrom' style='cursor:pointer; font-size:11px;'>";a=a+
"<li id='splListLiFrom' style='font-weight:bold;line-height:21px; color:#960606 !important;border-bottom:1px solid #960606; padding:2px 0 2px 5px;'>Previously Searched Sectors</li>"
+j;a=a+"</ul>"}if(e!=""){a=a+"<ul id='impAirportsUlFrom' style='cursor:pointer; font-size:11px;'>";a=a+
"<li id='splListLiFrom' style='font-weight:bold;line-height:21px; color:#960606 !important;border-bottom:1px solid #960606; padding:2px 0 2px 5px;'>Important Airports</li>"
+e;a=a+"</ul>"}if(f!=""){a=a+"<ul id='AirportsUlFrom' style='cursor:pointer; font-size:11px;'>";a=a+
"<li id='splListLiFrom' style='font-weight:bold;line-height:21px; color:#960606 !important;border-bottom:1px solid #960606; padding:2px 0 2px 5px;'>"
+k+"</li>"+f;a=a+"</ul>"}if(a!="")if(b.substring(b.length-1)<num_of_cities){var q=i.getBoundingClientRect();$(
"#fromDropDownDiv_MS0").css({height:0,display:"block"});var m=$(i).offset().top-$($("#fromDropDownDiv_MS0").offsetParent
()).offset().top,l=$(i).offset().left-$($("#fromDropDownDiv_MS0").offsetParent()).offset().left;$("#fromDropDownDiv_MS0"
).css("top",m+33);$("#fromDropDownDiv_MS0").css("left",l);$("#fromDropDownDiv_MS0").html(a);$("#fromDropDownDiv_MS0").
stop(true,false).animate({height:"400px"},300,"easeOutCubic",function(){});$("#SectorsUlFrom").css("display","none")}}})
}autocomplete_flag=false});function SetMultiCityFieldsForValidation(a){if($("#multicityto"+a).val()==
"Select  Destination City")$("#multicityto"+a).val("Select Destination City");if($("#multicityfrom"+a).val()==
"Select  Departure City")$("#multicityfrom"+a).val("Select Departure City");if($("#MultiCityDeparture"+a).val()==
" dd/mm/yyyy"||$("#MultiCityDeparture"+a).val()=="")$("#MultiCityDeparture"+a).val("dd/mm/yyyy")}function 
ClearMultiCityFields(){}refresh_radio_buttons();function refresh_radio_buttons(){$(".radiobtn span").each(function(){if(
$(this).siblings(".radio-inp").is(":checked"))$(this).addClass("radiobtn-active");else $(this).removeClass(
"radiobtn-active")})}$(".radiobtn span, .radiobtn label").click(function(){$(this).siblings(".radio-inp").click();
refresh_radio_buttons()});function SetFlightFromLiMultiCity(b,c){from_clicked_flag=0;var d=c.innerHTML;$("#"+b).val(d);$
("#fromDropDownDiv_MS0").css("display","none");var a=b.substring(b.length-1);if(b.indexOf("multicityfrom")!=-1){if($(
"#multicityto"+a).val()=="Select Destination City"||$("#multicityto"+a).val()=="")$("#multicityto"+a).focus();if($(
"#MultiCityDeparture"+a).val()=="dd/mm/yyyy")if($("#multicityto"+a).val()!="Select Destination City"&&$("#multicityto"+a
).val()!="")$("#MultiCityDeparture"+a).focus()}else if(b.indexOf("multicityto")!=-1){if($("#multicityfrom"+a).val()==
"Select Departure City"||$("#multicityfrom"+a).val()=="")$("#multicityfrom"+a).focus();if($("#MultiCityDeparture"+a).val
()=="dd/mm/yyyy"&&$("#multicityfrom"+a).val()!="Select Departure City"&&$("#multicityfrom"+a).val()!="")$(
"#MultiCityDeparture"+a).focus()}else{}NavigateToTabFromMulticitySearch()}function NavigateToTabFromMulticitySearch(){
var g="/Flight/GetAllAirports";$.ajax({url:g,cache:false,dataType:"json",success:function(d){if(d!=null&&d.length>0){var
 c="",b="",e="D";for(var a=0;a<=5;a++){if($("#multicityfrom"+a).val()!=""&&$("#multicityfrom"+a).val()!=
"Select  Departure City"){c=$.grep(d,function(h){return h.CityName==$("#multicityfrom"+a).val().split("-")[0].trim()});c
=c!=""?c[0].Country.toUpperCase()=="INDIA"?"D":"I":"D";if(c.toUpperCase()=="I"){e="I";break}}if($("#multicityto"+a).val(
)!=""&&$("#multicityto"+a).val()!="Select Destination City"){b=$.grep(d,function(h){return h.CityName==$("#multicityto"+
a).val().split("-")[0].trim()});b=b!=""?b[0].Country.toUpperCase()=="INDIA"?"D":"I":"D";if(b.toUpperCase()=="I"){e="I";
break}}}if(e=="I"){$("#intTab").removeClass("intern").addClass("domest");$("#domTab").removeClass("domest").addClass(
"intern")}else{$("#domTab").removeClass("intern").addClass("domest");$("#intTab").removeClass("domest").addClass(
"intern")}}}})}function RemoveValidationOnTabChange(){for(count=0;count<6;count++){$("#multicityfrom"+count+"").
removeClass("required");$("#multicityfrom"+count+"").removeClass("error");$("#multicityfrom"+count+"").addClass("ignore"
);$("#multicityfrom"+count+"").rules("remove");$("#multicityto"+count+"").removeClass("required");$("#multicityto"+count
+"").removeClass("error");$("#multicityto"+count+"").addClass("ignore");$("#multicityto"+count+"").rules("remove");$(
"#MultiCityDeparture"+count+"").removeClass("required");$("#MultiCityDeparture"+count+"").removeClass("error");$(
"#MultiCityDeparture"+count+"").addClass("ignore");$("#MultiCityDeparture"+count+"").rules("remove")}}function CloseTab(
){$("#fromDropDownDiv_MS0").css("display","none")}function infantvalidChking(a){if(a==false)if(parseInt($("#Infants").
val())<=parseInt($("#Adults").val()))$("#Infants").IsValid=true;else $("#Infants").IsValid=false;else if(parseInt($(
"#MultiCityInfant").val())<=parseInt($("#MultiCityAdult").val()))$("#MultiCityInfant").IsValid=true;else $("#Infants").
IsValid=false}function FareCalendarSearch(){$("#AirlinePreference").val(SelectPreferedAirlines());$("#SearchCount").val(
"1");$("#multicityfrom0").val($("#From").val());$("#multicityto0").val($("#To").val());$("#hdnpreffered").val($(".seltd"
).text());var b=$("#To").val(),a=$("#From").val();a=a.substring(a.indexOf("[")+1,a.indexOf("]"));b=b.substring(b.indexOf
("[")+1,b.indexOf("]"));var j=false;$("#To").val().indexOf("Type")!=-1&&$("#To").val("");$("#From").val().indexOf("Type"
)!=-1&&$("#From").val("");$("#Departure").val().indexOf("dd")!=-1&&$("#Departure").val("");var c="",g="",e="",d="";if($(
"#domTab").hasClass("domest"))c="Domestic";else if($("#intTab").hasClass("domest"))c="International";if($("#Return").val
()=="dd/mm/yyyy"){e="Oneway";d=""}else{e="Roundtrip";d=$("#Return").val()}g="Product:Flight|TripType:"+e+"|Category:"+c+
"|From:"+$("#From").val()+"|To:"+$("#To").val()+"|OnwDt:"+$("#Departure").val()+"|RtnDt:"+d+"|TravelClass:"+$(
"#TravelClass").val()+"|DeptTime:"+$("#DepartureTime").val()+"|RtnTime:"+$("#ReturnTime").val()+"|AirlinePref:"+$(
"#dropdownAirlinePreference").val()+"|AdltCount:"+$("#Adults").val()+"|ChildCount:"+$("#Chindren").val()+"|InfantCount:"
+$("#Infants").val();var f=IsValidSearch();if(f!="")alert(f);else if($("#searchform").valid()){setSector();if($(
'[name="SearchType"]:checked').val()=="R")SearchRtn=1;if(SearchRtn==1){var h=$("#From").val().toLowerCase().split(",")[$
("#From").val().toLowerCase().split(",").length-1],i=$("#To").val().toLowerCase().split(",")[$("#To").val().toLowerCase(
).split(",").length-1];if($("#Return").val()==""){$("#spnRtn").html("Return Date Required");return false}else if(h.
indexOf("india")!=-1&&i.indexOf("india")!=-1&&prenext!="PN"){$("#FareType").val("N");document.forms.searchform.submit();
return true}else{$("#FareType").val("N");document.forms.searchform.submit();return true}}else{if($("#searchform").valid(
)){$("#FareType").val("N");document.forms.searchform.submit();return true}return false}}}